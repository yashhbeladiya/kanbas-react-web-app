YUI.add("hermes-template-zoom-modal",(function(l,n){var e=l.Template.Handlebars.revive({1:function(l,n,e,r,a){var o,t=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'<img src="'+l.escapeExpression("function"==typeof(o=null!=(o=t(e,"smallSrc")||(null!=n?t(n,"smallSrc"):n))?o:l.hooks.helperMissing)?o.call(null!=n?n:l.nullContext||{},{name:"smallSrc",hash:{},data:a,loc:{start:{line:3,column:28},end:{line:3,column:40}}}):o)+'" class="zoom-small">'},3:function(l,n,e,r,a){var o,t=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'<img src="'+l.escapeExpression("function"==typeof(o=null!=(o=t(e,"largeSrc")||(null!=n?t(n,"largeSrc"):n))?o:l.hooks.helperMissing)?o.call(null!=n?n:l.nullContext||{},{name:"largeSrc",hash:{},data:a,loc:{start:{line:4,column:28},end:{line:4,column:40}}}):o)+'" class="zoom-large">'},5:function(l,n,e,r,a){var o,t=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'<img src="'+l.escapeExpression("function"==typeof(o=null!=(o=t(e,"xLargeSrc")||(null!=n?t(n,"xLargeSrc"):n))?o:l.hooks.helperMissing)?o.call(null!=n?n:l.nullContext||{},{name:"xLargeSrc",hash:{},data:a,loc:{start:{line:5,column:29},end:{line:5,column:42}}}):o)+'" class="zoom-xlarge">'},compiler:[8,">= 4.3.0"],main:function(l,n,e,r,a){var o,t=null!=n?n:l.nullContext||{},c=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'<div class="zoom-modal hidden">\n\t<div class="zoom-photo-container">\n\t\t'+(null!=(o=c(e,"if").call(t,null!=n?c(n,"smallSrc"):n,{name:"if",hash:{},fn:l.program(1,a,0),inverse:l.noop,data:a,loc:{start:{line:3,column:2},end:{line:3,column:68}}}))?o:"")+"\n\t\t"+(null!=(o=c(e,"if").call(t,null!=n?c(n,"largeSrc"):n,{name:"if",hash:{},fn:l.program(3,a,0),inverse:l.noop,data:a,loc:{start:{line:4,column:2},end:{line:4,column:68}}}))?o:"")+"\n\t\t"+(null!=(o=c(e,"if").call(t,null!=n?c(n,"xLargeSrc"):n,{name:"if",hash:{},fn:l.program(5,a,0),inverse:l.noop,data:a,loc:{start:{line:5,column:2},end:{line:5,column:71}}}))?o:"")+'\n\t\t<span class="facade-of-protection-zoom"></span>\n\t</div>\n</div>\n'},useData:!0}),r={};l.Array.each([],(function(n){var e=l.Template.get("hermes/"+n);e&&(r[n]=e)})),l.Template.register("hermes/zoom-modal",(function(n,a){return(a=a||{}).partials=a.partials?l.merge(r,a.partials):r,e(n,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("animation-manager",(function(n){n.AnimationManager=(function(){var i,e,a;function t(){e&&(a.forEach((function(n,i){n()})),n.config.win.requestAnimationFrame(t))}function o(i){return a.push(i),e||(e=!0,n.config.win.requestAnimationFrame(t)),{detach:function(){a.splice(a.indexOf(i),1),a.length||(e=!1)}}}return i||(e=!1,a=[],YUI.Env.isServer||n.config.win.requestAnimationFrame||(function(){var i,e,a=["webkit","moz"],t=0;for(e=0;e<a.length&&!n.config.win.requestAnimationFrame;++e)i=a[e],n.config.win.requestAnimationFrame=n.config.win[i+"RequestAnimationFrame"],n.config.win.cancelAnimationFrame=n.config.win[i+"CancelAnimationFrame"]||n.config.win[i+"CancelRequestAnimationFrame"];n.config.win.requestAnimationFrame&&n.config.win.cancelAnimationFrame||(n.config.win.requestAnimationFrame=function(n){var i=Date.now(),e=Math.max(t+16,i);return setTimeout((function(){n(t=e)}),e-i)},n.config.win.cancelAnimationFrame=clearTimeout)})(),i={subscribe:o}),i})()}),"@VERSION@",{requires:[]});YUI.add("zoom-view",(function(e){e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,forceGPU:null,slowMoMode:!1,sizes:{},supportsMultiLevelZooming:!1,currentZoomLevel:null,currentZoomRegion:{},initializer:function(o){return this.photoId=o.photoId,this.disableIfSmall=!!o.disableIfSmall,YUI.Env.isServer||(e.config.win.location.search.indexOf("gpu=on")>-1?this.forceGPU=!0:e.config.win.location.search.indexOf("gpu=off")>-1&&(this.forceGPU=!1),this.currentZoomLevel=0),this},loadState:function(){var e=this;return this.appContext.getModel("photo-models",e.photoId).then((function(o){e.set("photo",o)}))},buildContainer:function(){return this.setContainerHTML(""),this},activate:function(){var o=this,t=o.getZoomKeyScope();return this.get("photo").getValue("needsInterstitial")||(this.parentViewContainer=this.get("container").ancestor(".view"),o.appContext.flipper.isFlipped("enable-photo-page-lightbox-updates")&&e.BrowserSupport.isTouchScreen(navigator)?o.registerEventHandler(o.get("container").on("dblclick",(function(e){e.preventDefault(),o.setCursorCoordsFromEvent(e),o.detectSlowMoMode(e),o.zoomIn(o.cursorCoords)}))):o.registerEventHandler(o.get("container").on("click",(function(e){e.preventDefault(),o.setCursorCoordsFromEvent(e),o.detectSlowMoMode(e),o.zoomIn(o.cursorCoords)}))),o.registerEventHandler(e.on("photo:zoom",(function(t){o.detectSlowMoMode({shiftKey:t.shift}),t.x&&t.y?(o.cursorCoords=[t.x-e.config.win.pageXOffset,t.y-e.config.win.pageYOffset],o.zoomIn(o.cursorCoords)):o.zoomIn()}))),o.attachKeyEvent("down:90",e.betterThrottle((function(t){t.preventDefault(),o.detectSlowMoMode(t),o.canZoomIn()?o.zoomIn():o.zoomOut(),e.Snowplough.sendStructuredEvent({category:"photopageinteractions",action:"keyboard",label:"zoom"})}),100),"*"),o.attachKeyEvent("down:27",e.betterThrottle((function(e){e.preventDefault(),o.detectSlowMoMode(e),o.zoomOut()}),100),t),o.attachKeyEvent("down:37,38,39,40",e.betterThrottle((function(e){var t=[o.currentZoomRegion.left,o.currentZoomRegion.top],i=200;switch(e.preventDefault(),e.button){case 37:t[0]+=i;break;case 38:t[1]+=i;break;case 39:t[0]-=i;break;case 40:t[1]-=i}o.panZoomNode(t)}),16),t),o.registerEventHandler(o.appContext.flapp.before("activeViewChange",(function(t){e.fire("flickr:removeKeyEventScope",o.getZoomKeyScope()),o.detachRegisteredEvents(),o.detachEventHandlers(),o.cleanUp()})))),this},zoomIn:function(o){var t,i,n,r,s,a,h,d,l,g=this,c=this.getZoomPixelRatio(),u=this.getRegionForNode(this.get("container"),!0),m=this.maxMsgNode;if(this.sizes=this.getSizes(),this.sizes.xlarge&&this.sizes.xlarge.url?this.supportsMultiLevelZooming=!0:this.supportsMultiLevelZooming=!1,this.supportsMultiLevelZooming?0===this.currentZoomLevel?n=this.sizes.large:1===this.currentZoomLevel&&(n=this.sizes.xlarge):n=this.sizes.large,r=this.isImageReadyToDisplay(this.sizes.medium.url),s=this.isImageReadyToDisplay(this.sizes.large.url),this.supportsMultiLevelZooming&&(a=this.isImageReadyToDisplay(this.sizes.xlarge.url)),this.supportsMultiLevelZooming&&1===this.currentZoomLevel&&this.panningAnimationHandle.detach(),this.disableIfSmall&&u.width>=this.sizes.large.width)return m||(m=this.maxMsgNode=e.Node.create('<div class="zoom-max-message">'+g.intlMessage({intlName:"photo-page-scrappy.ZOOM_MAX_MESSAGE"})+"</div>")),this.get("container").contains(m)||(m.addClass("hidden"),this.get("container").append(m)),e.soon((function(){m&&m.inDoc()&&(m.removeClass("hidden"),this.maxMsgNodeHidingTimer&&(clearTimeout(this.maxMsgNodeHidingTimer),delete this.maxMsgNodeHidingTimer),this.maxMsgNodeHidingTimer=setTimeout((function(){m&&m.inDoc()&&m.addClass("hidden")}),3e3))})),void this.resetSlowMoMode();e.fire("flickr:setKeyEventScope",this.getZoomKeyScope()),this.zoomingIn=!0,this.panningAnimationHandle=e.AnimationManager.subscribe((function(){var t,i,n=g.getDeteriorationRateForEasing(),r={x:0,y:0},s={x:0,y:0},a={x:0,y:0};g.pendingCoords&&(r.x=parseInt(g.pendingCoords[0],10),r.y=parseInt(g.pendingCoords[1],10),g.currentCoords?(s.x=g.currentCoords[0],s.y=g.currentCoords[1]):(t=g.getZoomPanCoordsForCursor(o),i=g.constrainPanCoords(t),s.x=parseInt(i[0],10),s.y=parseInt(i[1],10)),r.x<s.x?a.x=s.x-Math.abs(r.x-s.x)*n:a.x=s.x+Math.abs(r.x-s.x)*n,r.y<s.y?a.y=s.y-Math.abs(r.y-s.y)*n:a.y=s.y+Math.abs(r.y-s.y)*n,a.x=parseInt(a.x,10),a.y=parseInt(a.y,10),a.x===s.x&&(r.x<s.x?a.x=s.x-1:r.x>s.x&&(a.x=s.x+1)),a.y===s.y&&(r.y<s.y?a.y=s.y-1:r.y>s.y&&(a.y=s.y+1)),a.x===r.x&&a.y===r.y||((!0===g.forceGPU||e.config.win.devicePixelRatio>1)&&!1!==g.forceGPU?g.zoomPhotoContainerNode.setStyle("transform","translate3d("+a.x+"px, "+a.y+"px, 0)"):g.zoomPhotoContainerNode.setStyle("transform","translate("+a.x+"px, "+a.y+"px)")),g.currentCoords=[a.x,a.y],a.x===r.x&&a.y===r.y&&delete g.pendingCoords)})),this.zoomNode?(this.zoomingOut=!1,(t=this.zoomNode).removeClass("hiding"),this.detachEventHandlers()):t=this.zoomNode=e.Node.create(this.templates("zoom-modal")({smallSrc:r?this.sizes.medium.url:"",largeSrc:s?this.sizes.large.url:"",xLargeSrc:a?this.sizes.xlarge.url:""})),i=this.zoomPhotoContainerNode=t.one(".zoom-photo-container"),this.zoomImageFullWidth=n.width/c,this.zoomImageFullHeight=n.height/c,o||(g.cursorCoords=o=[this.appContext.viewportData.viewport.width/2,this.appContext.viewportData.viewport.height/2]),h=this.getZoomPanCoordsForCursor(o),h=this.constrainPanCoords(h),d={left:h[0],top:h[1],width:this.zoomImageFullWidth,height:this.zoomImageFullHeight},0===g.currentZoomLevel?(i.setStyle("transition","none"),this.resizeZoomNode(u,!1)):this.resizeZoomNode(this.getRegionForNode(i),!1),g.appContext.flipper.isFlipped("enable-photo-page-lightbox-updates")&&e.BrowserSupport.isTouchScreen(navigator)?t.on("dblclick",(function(e){g.zoomingIn||(e.preventDefault(),g.detectSlowMoMode(e),g.canZoomIn()?(g.setCursorCoordsFromEvent(e),g.zoomIn(g.cursorCoords)):g.zoomOut())})):t.on("click",(function(e){g.zoomingIn||(e.preventDefault(),g.detectSlowMoMode(e),g.canZoomIn()?(g.setCursorCoordsFromEvent(e),g.zoomIn(g.cursorCoords)):g.zoomOut())})),e.one("body").append(t),i.setStyle("width",d.width),i.setStyle("height",d.height),e.soon((function(){var o;g.zoomingIn&&(t.removeClass("hidden"),i.setStyle("transition",""),"ontouchstart"in document&&e.use("event-touch",(function(){g.touchHandlers=[],g.touchHandlers.push(e.on("touchstart",(function(e){e.changedTouches.length&&1===e.changedTouches.length&&(g.touching=[e.changedTouches[0].pageX,e.changedTouches[0].pageY])}))),g.touchHandlers.push(e.on("touchmove",(function(e){var o,t,i=e.pageX,n=e.pageY;g.touching&&e.changedTouches.length&&1===e.changedTouches.length&&(i=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY,e.preventDefault(),o=i-g.touching[0],t=n-g.touching[1],g.touching=[i,n],g.panZoomNode([g.currentZoomRegion.left+o,g.currentZoomRegion.top+t]))}))),g.touchHandlers.push(e.on("touchend",(function(e){delete g.touching})))})),t.on("mousemove",g.zoomMouseMoveHandler.bind(g)),g.mouseWheelHandler=(o=g.zoomScrollWheelHandler.bind(g),l="onwheel"in document.createElement("div")?"wheel":"mousewheel",g.zoomNode.getDOMNode().addEventListener(l,o,!1),{detach:function(){g.zoomNode.getDOMNode().removeEventListener(l,o,!1)}}),g.parentViewContainer.addClass("zoomed"),g.resizeZoomNode(d,!0).then((function(){g.zoomingIn&&(g.zoomingIn=!1,g.zoomedIn=!0,i.removeClass("zoom-level-"+g.currentZoomLevel),g.currentZoomLevel+=1,i.addClass("zoom-level-"+g.currentZoomLevel),g.zoomNode.toggleClass("max-zoom-level",!g.canZoomIn()),g.resetSlowMoMode(),g.panZoomNodeToCurrentCoords(),s||i.append('<img src="'+g.sizes.large.url+'" class="zoom-large">'),g.supportsMultiLevelZooming&&!a&&i.append('<img src="'+g.sizes.xlarge.url+'" class="zoom-xlarge">'))})))}))},zoomOut:function(){var o=this,t=this.zoomNode;e.fire("flickr:removeKeyEventScope",this.getZoomKeyScope()),this.detachEventHandlers(),this.resizeZoomNode(this.getRegionForNode(this.get("container"),!0),!0),t.addClass("hiding"),this.zoomedIn=!1,this.zoomingIn=!1,this.zoomingOut=!0,setTimeout((function(){o.zoomingOut&&t&&t._node&&(o.parentViewContainer.removeClass("zoomed"),t.removeClass("hiding"),t.addClass("hidden"),o.resetSlowMoMode(),setTimeout((function(){o.zoomingOut&&(o.cleanUp(),o.zoomingOut=!1,o.currentZoomLevel=0)}),200))}),this.getZoomTransitionTime()),delete this.pendingCoords,delete this.currentCoords},resizeZoomNode:function(o,t){var i,n,r=this,s=e.config.win.performance&&e.config.win.performance.now;return t?new e.Promise((function(t,a){r.isAnimatingZoom=!0,i=s?e.config.win.performance.now():Date.now(),n=r.currentZoomRegion,e.config.win.requestAnimationFrame((function a(h){var d=(function(a){var h,d=((s?a:Date.now())-i)/r.getZoomTransitionTime();return d>=1?(h=o,r.isAnimatingZoom=!1,e.soon(t)):h={left:n.left+(o.left-n.left)*d,top:n.top+(o.top-n.top)*d,width:n.width+(o.width-n.width)*d,height:n.height+(o.height-n.height)*d},h})(h);(r.zoomingIn||r.zoomingOut)&&(r.resizeZoomNode(d,!1),d!==o&&e.config.win.requestAnimationFrame(a))}))})):(this.currentZoomRegion=o,this.zoomPhotoContainerNode&&this.zoomPhotoContainerNode.setStyle("transform","translate("+o.left+"px, "+o.top+"px) scale("+o.width/this.zoomImageFullWidth+")"),e.Promise.resolve())},zoomMouseMoveHandler:function(e){this.setCursorCoordsFromEvent(e),this.isAnimatingZoom||this.panZoomNodeToCurrentCoords()},zoomScrollWheelHandler:function(e){e.preventDefault();var o=e.wheelDeltaX,t=e.wheelDeltaY;void 0===o&&(o=-e.deltaX||0),void 0===t&&(t=-e.deltaY||0),this.panZoomNode([this.currentZoomRegion.left+o,this.currentZoomRegion.top+t])},getSizes:function(){var e=this.parentViewContainer.one(".main-photo"),o=this.getLargerSize(e.getAttribute("src")),t=this.getLargestSize();return{medium:{url:e.getAttribute("src"),width:parseInt(e.getAttribute("width"),10),height:parseInt(e.getAttribute("height"),10)},large:o,xlarge:o.url===t.url?null:t}},getLargerSize:function(o){var t,i,n,r=0,s=0;return this.appContext.flipper.isFlipped("enable-two-step-zoom")?(o=o.replace(/^https?:/i,""),"o"===(t=this.get("photo").getValue("ascendingSizes"))[t.length-1].key&&t.pop(),e.Array.each(t,(function(e,t){e.url===o&&(r=t),"k"===e.key&&(s=t)})),(i=t[r+1])?(n=i,t[s]&&i.width<t[s].width&&(n=t[s])):n=t[t.length-1],n):this.getLargestSize()},getLargestSize:function(){return this.get("photo").getLargestSize()},getDeteriorationRateForEasing:function(){return.2},getZoomPixelRatio:function(){if(!this.appContext.flipper.isFlipped("enable-two-step-zoom"))return 1;var e,o=this.parentViewContainer.one(".main-photo");return o&&(o=o.getDOMNode()).naturalWidth&&(e=o.naturalWidth/parseInt(o.getAttribute("width"),10))<window.devicePixelRatio?e:window.devicePixelRatio?window.devicePixelRatio:1},getZoomEdgeMargin:function(){return 100},getZoomPanCoordsForCursor:function(e){if(e){var o=this.getZoomEdgeMargin(),t=[this.appContext.viewportData.getWidth(),this.appContext.viewportData.getHeight()],i=[e[0]/t[0],e[1]/t[1]],n=[this.zoomImageFullWidth,this.zoomImageFullHeight],r=[n[0]+2*o,n[1]+2*o];return[i[0]*(t[0]-r[0]),i[1]*(t[1]-r[1])]}},getRegionForNode:function(o,t){var i={left:o.getX()-e.config.win.pageXOffset,top:o.getY()-e.config.win.pageYOffset,width:parseInt(o.getStyle("width"),10),height:parseInt(o.getStyle("height"),10)};return t&&(i.left-=this.getZoomEdgeMargin(),i.top-=this.getZoomEdgeMargin()),i},getZoomTransitionTime:function(){return 200*(this.slowMoMode?10:1)},getZoomKeyScope:function(){return this.name+this._yuid},canZoomIn:function(){return 0===this.currentZoomLevel||this.supportsMultiLevelZooming&&1===this.currentZoomLevel},setCursorCoordsFromEvent:function(o){return this.cursorCoords=[o.pageX-e.config.win.pageXOffset,o.pageY-e.config.win.pageYOffset],this.cursorCoords},panZoomNodeToCurrentCoords:function(){if(this.zoomedIn){var e=this.getZoomPanCoordsForCursor(this.cursorCoords);e&&this.panZoomNode(e)}},panZoomNode:function(e){this.currentZoomRegion.left===e[0]&&this.currentZoomRegion.top===e[1]||(e=this.constrainPanCoords(e),this.currentZoomRegion.left=e[0],this.currentZoomRegion.top=e[1],this.pendingCoords=e)},constrainPanCoords:function(e){var o,t,i=this.getZoomEdgeMargin(),n=[this.appContext.viewportData.getWidth(),this.appContext.viewportData.getHeight()],r=[this.zoomImageFullWidth,this.zoomImageFullHeight],s=[r[0]+2*i,r[1]+2*i];return 0,o=n[0]-r[0]-2*i,0,t=n[1]-r[1]-2*i,e[0]>0?e[0]=0:e[0]<o&&(e[0]=o),e[1]>0?e[1]=0:e[1]<t&&(e[1]=t),r[0]<n[0]&&(e[0]=.5*(n[0]-s[0])),r[1]<n[1]&&(e[1]=.5*(n[1]-s[1])),e},detectSlowMoMode:function(e){e.shiftKey&&(document.getSelection().removeAllRanges(),this.slowMoMode=!0)},resetSlowMoMode:function(){this.slowMoMode=!1},isImageReadyToDisplay:function(e){var o;return!!e&&((o=new Image).src=e,o.complete||o.naturalWidth)},detachEventHandlers:function(){this.zoomNode&&(this.zoomNode.detachAll("mousemove"),this.mouseWheelHandler&&this.mouseWheelHandler.detach(),this.touchHandlers&&(this.touchHandlers.forEach((function(e){e.detach()})),delete this.touchHandlers))},cleanUp:function(){this.zoomNode&&(this.zoomNode.remove(!0),this.zoomedIn=!1,this.zoomingIn=!1,this.zoomingOut=!1,delete this.zoomNode,delete this.zoomPhotoContainerNode,delete this.pendingCoords,delete this.currentCoords,this.panningAnimationHandle.detach())}})}),"@VERSION@",{requires:["flickr-view","better-throttle","flickr-promise","hermes-template-zoom-modal","animation-manager"],optional:["photo-models"],langBundles:["photo-page-scrappy"]});YUI.add("hermes-template-adult-content-photo-overlay",(function(n,e){var l=n.Template.Handlebars.revive({1:function(n,e,l,t,a){return" compact"},3:function(n,e,l,t,a){return" large"},5:function(n,e,l,t,a){return" with-nsfw-2024"},7:function(n,e,l,t,a){var o,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"width:"+n.escapeExpression("function"==typeof(o=null!=(o=r(l,"containerWidth")||(null!=e?r(e,"containerWidth"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"containerWidth",hash:{},data:a,loc:{start:{line:6,column:37},end:{line:6,column:55}}}):o)+"px;"},9:function(n,e,l,t,a){var o,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"height:"+n.escapeExpression("function"==typeof(o=null!=(o=r(l,"containerHeight")||(null!=e?r(e,"containerHeight"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"containerHeight",hash:{},data:a,loc:{start:{line:7,column:39},end:{line:7,column:58}}}):o)+"px;"},11:function(n,e,l,t,a){var o,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"min-height:"+n.escapeExpression("function"==typeof(o=null!=(o=r(l,"containerMinHeight")||(null!=e?r(e,"containerMinHeight"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"containerMinHeight",hash:{},data:a,loc:{start:{line:8,column:46},end:{line:8,column:68}}}):o)+"px;"},13:function(n,e,l,t,a){var o,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"max-width:"+n.escapeExpression("function"==typeof(o=null!=(o=r(l,"containerMaxWidth")||(null!=e?r(e,"containerMaxWidth"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"containerMaxWidth",hash:{},data:a,loc:{start:{line:9,column:44},end:{line:9,column:65}}}):o)+"px;"},15:function(n,e,l,t,a){var o,r,i=null!=e?e:n.nullContext||{},s=n.hooks.helperMissing,c="function",u=n.escapeExpression,p=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\t\t<a class="nsfw-overlay-bg'+(null!=(o=(p(l,"isFlipped")||e&&p(e,"isFlipped")||s).call(i,"enable-nsfw-2024",{name:"isFlipped",hash:{},fn:n.program(16,a,0),inverse:n.noop,data:a,loc:{start:{line:12,column:27},end:{line:12,column:99}}}))?o:"")+'" href="'+u(typeof(r=null!=(r=p(l,"photoUrl")||(null!=e?p(e,"photoUrl"):e))?r:s)===c?r.call(i,{name:"photoUrl",hash:{},data:a,loc:{start:{line:12,column:107},end:{line:12,column:119}}}):r)+'" data-photo-id="'+u(typeof(r=null!=(r=p(l,"photoId")||(null!=e?p(e,"photoId"):e))?r:s)===c?r.call(i,{name:"photoId",hash:{},data:a,loc:{start:{line:12,column:136},end:{line:12,column:147}}}):r)+'"></a>\n'},16:function(n,e,l,t,a){return" photo-thumb-interstitial"},18:function(n,e,l,t,a){var o,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\t\t<span class="nsfw-overlay-bg photo-thumb-interstitial" data-photo-id="'+n.escapeExpression("function"==typeof(o=null!=(o=r(l,"photoId")||(null!=e?r(e,"photoId"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"photoId",hash:{},data:a,loc:{start:{line:15,column:72},end:{line:15,column:83}}}):o)+'"></span>\n'},20:function(n,e,l,t,a){return" clickable"},22:function(n,e,l,t,a){return'\t\t\t<svg class="icon icon-warning warning-icon"><use xlink:href="#icon-warning"></use></svg>\n'},24:function(n,e,l,t,a){var o=null!=e?e:n.nullContext||{},r=n.hooks.helperMissing,i=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\t\t\t<p class="message">'+n.escapeExpression((i(l,"renderTrustedMarkup")||e&&i(e,"renderTrustedMarkup")||r).call(o,(i(l,"preventOrphansHtml")||e&&i(e,"preventOrphansHtml")||r).call(o,null!=e?i(e,"detailsMessage"):e,{name:"preventOrphansHtml",hash:{},data:a,loc:{start:{line:28,column:44},end:{line:28,column:79}}}),{name:"renderTrustedMarkup",hash:{},data:a,loc:{start:{line:28,column:22},end:{line:28,column:81}}}))+"</p>\n"},26:function(n,e,l,t,a){var o,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\t\t\t<button class="cta">'+n.escapeExpression("function"==typeof(o=null!=(o=r(l,"ctaMessage")||(null!=e?r(e,"ctaMessage"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"ctaMessage",hash:{},data:a,loc:{start:{line:32,column:23},end:{line:32,column:37}}}):o)+"</button>\n"},28:function(n,e,l,t,a){var o=null!=e?e:n.nullContext||{},r=n.hooks.helperMissing,i=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\t\t\t<p class="message bottom-message">'+n.escapeExpression((i(l,"renderTrustedMarkup")||e&&i(e,"renderTrustedMarkup")||r).call(o,(i(l,"preventOrphansHtml")||e&&i(e,"preventOrphansHtml")||r).call(o,null!=e?i(e,"bottomMessage"):e,{name:"preventOrphansHtml",hash:{},data:a,loc:{start:{line:36,column:59},end:{line:36,column:93}}}),{name:"renderTrustedMarkup",hash:{},data:a,loc:{start:{line:36,column:37},end:{line:36,column:95}}}))+"</p>\n"},compiler:[8,">= 4.3.0"],main:function(n,e,l,t,a){var o,r=null!=e?e:n.nullContext||{},i=n.hooks.helperMissing,s=n.escapeExpression,c=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<div class="adult-content-photo-overlay\n\t'+(null!=(o=c(l,"if").call(r,null!=e?c(e,"isCompact"):e,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:2,column:1},end:{line:2,column:33}}}))?o:"")+"\n\t"+(null!=(o=c(l,"if").call(r,null!=e?c(e,"isLarge"):e,{name:"if",hash:{},fn:n.program(3,a,0),inverse:n.noop,data:a,loc:{start:{line:3,column:1},end:{line:3,column:29}}}))?o:"")+"\n\t"+(null!=(o=(c(l,"isFlipped")||e&&c(e,"isFlipped")||i).call(r,"enable-nsfw-2024",{name:"isFlipped",hash:{},fn:n.program(5,a,0),inverse:n.noop,data:a,loc:{start:{line:4,column:1},end:{line:4,column:63}}}))?o:"")+'"\n\tstyle="\n\t\t'+(null!=(o=(c(l,"ifDefined")||e&&c(e,"ifDefined")||i).call(r,null!=e?c(e,"containerWidth"):e,{name:"ifDefined",hash:{},fn:n.program(7,a,0),inverse:n.noop,data:a,loc:{start:{line:6,column:2},end:{line:6,column:72}}}))?o:"")+"\n\t\t"+(null!=(o=(c(l,"ifDefined")||e&&c(e,"ifDefined")||i).call(r,null!=e?c(e,"containerHeight"):e,{name:"ifDefined",hash:{},fn:n.program(9,a,0),inverse:n.noop,data:a,loc:{start:{line:7,column:2},end:{line:7,column:75}}}))?o:"")+"\n\t\t"+(null!=(o=(c(l,"ifDefined")||e&&c(e,"ifDefined")||i).call(r,null!=e?c(e,"containerMinHeight"):e,{name:"ifDefined",hash:{},fn:n.program(11,a,0),inverse:n.noop,data:a,loc:{start:{line:8,column:2},end:{line:8,column:85}}}))?o:"")+"\n\t\t"+(null!=(o=(c(l,"ifDefined")||e&&c(e,"ifDefined")||i).call(r,null!=e?c(e,"containerMaxWidth"):e,{name:"ifDefined",hash:{},fn:n.program(13,a,0),inverse:n.noop,data:a,loc:{start:{line:9,column:2},end:{line:9,column:82}}}))?o:"")+'\n\t\t">\n'+(null!=(o=c(l,"if").call(r,null!=e?c(e,"photoUrl"):e,{name:"if",hash:{},fn:n.program(15,a,0),inverse:n.program(18,a,0),data:a,loc:{start:{line:11,column:1},end:{line:16,column:8}}}))?o:"")+'\t<div class="content-container'+(null!=(o=c(l,"if").call(r,null!=e?c(e,"ctaMessage"):e,{name:"if",hash:{},fn:n.program(20,a,0),inverse:n.noop,data:a,loc:{start:{line:17,column:30},end:{line:17,column:65}}}))?o:"")+'">\n\n'+(null!=(o=c(l,"if").call(r,null!=e?c(e,"showIcon"):e,{name:"if",hash:{},fn:n.program(22,a,0),inverse:n.noop,data:a,loc:{start:{line:19,column:2},end:{line:21,column:9}}}))?o:"")+'\n\t\t<div class="eighteen-plus">18+</div>\n\n\t\t<h1 class="nsfw-overlay-title">'+s((c(l,"intlMessage")||e&&c(e,"intlMessage")||i).call(r,{name:"intlMessage",hash:{intlName:"adult-content-overlay.ADULT_CONTENT"},data:a,loc:{start:{line:25,column:33},end:{line:25,column:95}}}))+'</h1>\n\t\t<p class="message main-message">'+s((c(l,"preventOrphans")||e&&c(e,"preventOrphans")||i).call(r,(c(l,"intlMessage")||e&&c(e,"intlMessage")||i).call(r,{name:"intlMessage",hash:{intlName:"adult-content-overlay.MATURE_AUDIENCES"},data:a,loc:{start:{line:26,column:51},end:{line:26,column:114}}}),{name:"preventOrphans",hash:{},data:a,loc:{start:{line:26,column:34},end:{line:26,column:116}}}))+"</p>\n"+(null!=(o=c(l,"if").call(r,null!=e?c(e,"detailsMessage"):e,{name:"if",hash:{},fn:n.program(24,a,0),inverse:n.noop,data:a,loc:{start:{line:27,column:2},end:{line:29,column:9}}}))?o:"")+"\n"+(null!=(o=c(l,"if").call(r,null!=e?c(e,"ctaMessage"):e,{name:"if",hash:{},fn:n.program(26,a,0),inverse:n.noop,data:a,loc:{start:{line:31,column:2},end:{line:33,column:9}}}))?o:"")+"\n"+(null!=(o=c(l,"if").call(r,null!=e?c(e,"bottomMessage"):e,{name:"if",hash:{},fn:n.program(28,a,0),inverse:n.noop,data:a,loc:{start:{line:35,column:2},end:{line:37,column:9}}}))?o:"")+"\t</div>\n</div>\n"},useData:!0}),t={};n.Array.each([],(function(e){var l=n.Template.get("hermes/"+e);l&&(t[e]=l)})),n.Template.register("hermes/adult-content-photo-overlay",(function(e,a){return(a=a||{}).partials=a.partials?n.merge(t,a.partials):t,l(e,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-photo-well-media-scrappy",(function(n,t){var l=n.Template.Handlebars.revive({1:function(n,t,l,e,a){var o,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=(i(l,"isFlipped")||t&&i(t,"isFlipped")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},"enable-nsfw-2024",{name:"isFlipped",hash:{},fn:n.program(2,a,0),inverse:n.program(4,a,0),data:a,loc:{start:{line:2,column:1},end:{line:29,column:15}}}))?o:""},2:function(n,t,l,e,a){var o,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=n.invokePartial(i(e,"adult-content-photo-overlay"),t,{name:"adult-content-photo-overlay",hash:{containerHeight:null!=t?i(t,"height"):t,containerMaxWidth:"1024",containerMinHeight:"360",isLarge:null!=(o=null!=t?i(t,"nsfwOverlayConfig"):t)?i(o,"isLarge"):o,ctaMessage:null!=(o=null!=t?i(t,"nsfwOverlayConfig"):t)?i(o,"ctaMessage"):o,bottomMessage:null!=(o=null!=t?i(t,"nsfwOverlayConfig"):t)?i(o,"bottomMessage"):o,detailsMessage:null!=(o=null!=t?i(t,"nsfwOverlayConfig"):t)?i(o,"detailsMessage"):o,showIcon:null!=(o=null!=t?i(t,"nsfwOverlayConfig"):t)?i(o,"showIcon"):o},data:a,indent:"\t\t",helpers:l,partials:e,decorators:n.decorators}))?o:""},4:function(n,t,l,e,a){var o,i=null!=t?t:n.nullContext||{},s=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t<div class="restricted-interstitial">\n\t\t\t<div class="restricted-interstitial-message">\n\t\t\t\t<h2>'+n.escapeExpression((s(l,"intlMessage")||t&&s(t,"intlMessage")||n.hooks.helperMissing).call(i,{name:"intlMessage",hash:{intlName:"photo-page-scrappy.ADULT_CONTENT"},data:a,loc:{start:{line:16,column:8},end:{line:16,column:67}}}))+"</h2>\n"+(null!=(o=s(l,"if").call(i,null!=t?s(t,"isSignedIn"):t,{name:"if",hash:{},fn:n.program(5,a,0),inverse:n.program(8,a,0),data:a,loc:{start:{line:17,column:4},end:{line:26,column:11}}}))?o:"")+"\t\t\t</div>\n\t\t</div>\n"},5:function(n,t,l,e,a){var o,i=null!=t?t:n.nullContext||{},s=n.hooks.helperMissing,r=n.escapeExpression,c=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"\t\t\t\t\t<p>"+r((c(l,"intlMessage")||t&&c(t,"intlMessage")||s).call(i,{name:"intlMessage",hash:{intlName:"photo-page-scrappy.MATURE_AUDIENCES"},data:a,loc:{start:{line:18,column:8},end:{line:18,column:70}}}))+"<br />"+r((c(l,"intlMessage")||t&&c(t,"intlMessage")||s).call(i,{name:"intlMessage",hash:{intlName:"photo-page-scrappy.USER_DISCRETION"},data:a,loc:{start:{line:18,column:76},end:{line:18,column:137}}}))+"</p>\n\n"+(null!=(o=c(l,"unless").call(i,null!=t?c(t,"isMinor"):t,{name:"unless",hash:{},fn:n.program(6,a,0),inverse:n.noop,data:a,loc:{start:{line:20,column:5},end:{line:23,column:16}}}))?o:"")},6:function(n,t,l,e,a){var o=null!=t?t:n.nullContext||{},i=n.hooks.helperMissing,s=n.escapeExpression,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"\t\t\t\t\t\t<p><button class='ui-button'><span>"+s((r(l,"intlMessage")||t&&r(t,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"photo-page-scrappy.SHOW_ME_THIS_CONTENT_TYPE"},data:a,loc:{start:{line:21,column:41},end:{line:21,column:112}}}))+"</span></button></p>\n\t\t\t\t\t\t<p>"+s((r(l,"intlHTMLMessage")||t&&r(t,"intlHTMLMessage")||i).call(o,{name:"intlHTMLMessage",hash:{intlName:"photo-page-scrappy.CHANGE_SAFE_SEARCH_IN_SETTINGS"},data:a,loc:{start:{line:22,column:9},end:{line:22,column:89}}}))+"</p>\n"},8:function(n,t,l,e,a){var o,i=null!=t?t:n.nullContext||{},s=n.hooks.helperMissing,r=n.escapeExpression,c=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"\t\t\t\t\t<p>"+r((c(l,"intlMessage")||t&&c(t,"intlMessage")||s).call(i,{name:"intlMessage",hash:{intlName:"photo-page-scrappy.SIGNED_IN_FOR_CONTENT"},data:a,loc:{start:{line:25,column:8},end:{line:25,column:75}}}))+' <a href="//'+r("function"==typeof(o=null!=(o=c(l,"host")||(null!=t?c(t,"host"):t))?o:s)?o.call(i,{name:"host",hash:{},data:a,loc:{start:{line:25,column:87},end:{line:25,column:95}}}):o)+'/signin/" data-track="photoWellSignInClick">'+r((c(l,"intlMessage")||t&&c(t,"intlMessage")||s).call(i,{name:"intlMessage",hash:{intlName:"common.SIGN_IN"},data:a,loc:{start:{line:25,column:139},end:{line:25,column:180}}}))+"</a></p>\n"},10:function(n,t,l,e,a){var o,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=i(l,"if").call(null!=t?t:n.nullContext||{},null!=t?i(t,"isVideo"):t,{name:"if",hash:{},fn:n.program(11,a,0),inverse:n.program(13,a,0),data:a,loc:{start:{line:31,column:1},end:{line:51,column:8}}}))?o:""},11:function(n,t,l,e,a){var o,i=null!=t?t:n.nullContext||{},s=n.hooks.helperMissing,r="function",c=n.escapeExpression,u=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t<div class="videoplayer main-photo" style="width:'+c(typeof(o=null!=(o=u(l,"width")||(null!=t?u(t,"width"):t))?o:s)===r?o.call(i,{name:"width",hash:{},data:a,loc:{start:{line:32,column:51},end:{line:32,column:60}}}):o)+"px; height:"+c(typeof(o=null!=(o=u(l,"height")||(null!=t?u(t,"height"):t))?o:s)===r?o.call(i,{name:"height",hash:{},data:a,loc:{start:{line:32,column:71},end:{line:32,column:81}}}):o)+'px;"><video id="video_1" poster="'+c(typeof(o=null!=(o=u(l,"src")||(null!=t?u(t,"src"):t))?o:s)===r?o.call(i,{name:"src",hash:{},data:a,loc:{start:{line:32,column:114},end:{line:32,column:121}}}):o)+'" class="video-js vjs-big-play-centered inherit-size"></video></div>\n'},13:function(n,t,l,e,a){var o,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=i(l,"if").call(null!=t?t:n.nullContext||{},null!=t?i(t,"showFuzzy"):t,{name:"if",hash:{},fn:n.program(14,a,0),inverse:n.program(16,a,0),data:a,loc:{start:{line:34,column:2},end:{line:50,column:9}}}))?o:""},14:function(n,t,l,e,a){var o,i=null!=t?t:n.nullContext||{},s=n.hooks.helperMissing,r="function",c=n.escapeExpression,u=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t<span class="restricted-image main-photo" style="width:'+c(typeof(o=null!=(o=u(l,"width")||(null!=t?u(t,"width"):t))?o:s)===r?o.call(i,{name:"width",hash:{},data:a,loc:{start:{line:35,column:58},end:{line:35,column:67}}}):o)+"px;height:"+c(typeof(o=null!=(o=u(l,"height")||(null!=t?u(t,"height"):t))?o:s)===r?o.call(i,{name:"height",hash:{},data:a,loc:{start:{line:35,column:77},end:{line:35,column:87}}}):o)+'px;"></span>\n'},16:function(n,t,l,e,a){var o,i=null!=t?t:n.nullContext||{},s=n.hooks.helperMissing,r="function",c=n.escapeExpression,u=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t<span class="facade-of-protection-neue" style="width:'+c(typeof(o=null!=(o=u(l,"width")||(null!=t?u(t,"width"):t))?o:s)===r?o.call(i,{name:"width",hash:{},data:a,loc:{start:{line:37,column:56},end:{line:37,column:65}}}):o)+"px;height:"+c(typeof(o=null!=(o=u(l,"height")||(null!=t?u(t,"height"):t))?o:s)===r?o.call(i,{name:"height",hash:{},data:a,loc:{start:{line:37,column:75},end:{line:37,column:85}}}):o)+'px;">\n\t\t\t\t'+c((u(l,"outlet")||t&&u(t,"outlet")||s).call(i,null!=t?u(t,"zoom-view"):t,{name:"outlet",hash:{},data:a,loc:{start:{line:38,column:4},end:{line:38,column:24}}}))+"\n\t\t\t\t"+c((u(l,"outlet")||t&&u(t,"outlet")||s).call(i,null!=t?u(t,"vr-overlay-view"):t,{name:"outlet",hash:{},data:a,loc:{start:{line:39,column:4},end:{line:39,column:30}}}))+'\n\t\t\t</span>\n\n\t\t\t<img width="'+c(typeof(o=null!=(o=u(l,"width")||(null!=t?u(t,"width"):t))?o:s)===r?o.call(i,{name:"width",hash:{},data:a,loc:{start:{line:42,column:15},end:{line:42,column:24}}}):o)+'" height="'+c(typeof(o=null!=(o=u(l,"height")||(null!=t?u(t,"height"):t))?o:s)===r?o.call(i,{name:"height",hash:{},data:a,loc:{start:{line:42,column:34},end:{line:42,column:44}}}):o)+'" src="'+c(typeof(o=null!=(o=u(l,"highResSrc")||(null!=t?u(t,"highResSrc"):t))?o:s)===r?o.call(i,{name:"highResSrc",hash:{},data:a,loc:{start:{line:42,column:51},end:{line:42,column:65}}}):o)+'" class="main-photo is-hidden" alt="'+c(typeof(o=null!=(o=u(l,"imgAltText")||(null!=t?u(t,"imgAltText"):t))?o:s)===r?o.call(i,{name:"imgAltText",hash:{},data:a,loc:{start:{line:42,column:101},end:{line:42,column:115}}}):o)+'">\n\t\t\t<script nonce="'+c(typeof(o=null!=(o=u(l,"cspNonce")||(null!=t?u(t,"cspNonce"):t))?o:s)===r?o.call(i,{name:"cspNonce",hash:{},data:a,loc:{start:{line:43,column:18},end:{line:43,column:30}}}):o)+"\">\n\t\t\t\tvar img = document.querySelector('.photo-well-media-scrappy-view img.main-photo');\n\t\t\t\timg.onload = function () { registerFirstPhoto(img); };\n\t\t\t<\/script>\n\t\t\t<noscript>\n\t\t\t\t<img width=\""+c(typeof(o=null!=(o=u(l,"width")||(null!=t?u(t,"width"):t))?o:s)===r?o.call(i,{name:"width",hash:{},data:a,loc:{start:{line:48,column:16},end:{line:48,column:25}}}):o)+'" height="'+c(typeof(o=null!=(o=u(l,"height")||(null!=t?u(t,"height"):t))?o:s)===r?o.call(i,{name:"height",hash:{},data:a,loc:{start:{line:48,column:35},end:{line:48,column:45}}}):o)+'" src="'+c(typeof(o=null!=(o=u(l,"highResSrc")||(null!=t?u(t,"highResSrc"):t))?o:s)===r?o.call(i,{name:"highResSrc",hash:{},data:a,loc:{start:{line:48,column:52},end:{line:48,column:66}}}):o)+'" class="main-photo" alt="'+c(typeof(o=null!=(o=u(l,"imgAltText")||(null!=t?u(t,"imgAltText"):t))?o:s)===r?o.call(i,{name:"imgAltText",hash:{},data:a,loc:{start:{line:48,column:92},end:{line:48,column:106}}}):o)+'">\n\t\t\t</noscript>\n'},compiler:[8,">= 4.3.0"],main:function(n,t,l,e,a){var o,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=i(l,"if").call(null!=t?t:n.nullContext||{},null!=t?i(t,"needsInterstitial"):t,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.program(10,a,0),data:a,loc:{start:{line:1,column:0},end:{line:52,column:7}}}))?o:""},usePartial:!0,useData:!0}),e={};n.Array.each(["adult-content-photo-overlay"],(function(t){var l=n.Template.get("hermes/"+t);l&&(e[t]=l)})),n.Template.register("hermes/photo-well-media-scrappy",(function(t,a){return(a=a||{}).partials=a.partials?n.merge(e,a.partials):e,l(t,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-adult-content-photo-overlay"]});YUI.add("hermes-template-sub-photo-moola-view",(function(t,n){var e=t.Template.Handlebars.revive({1:function(t,n,e,a,r){return'\t\t\t\t\t\t<a target="_blank" href="/account/upgrade/pro" title="Flickr Pro">Flickr Pro</a>\n'},3:function(t,n,e,a,r){return'\t\t\t\t\t\t<a href="#" class="sponsored-title" title="Sponsored Advertiser">Sponsored Advertiser</a>\n'},5:function(t,n,e,a,r){return'\t\t\t\t\t\t\t<a target="_blank" href="/account/upgrade/pro">Sign up today!</a>\n'},7:function(t,n,e,a,r){return'\t\t\t\t\t\t\t<a target="_blank" href="https://flickrhelp.com/hc/en-us/articles/4404057954068-Ad-free-Browsing-and-Ad-free-Sharing-of-Photos">Learn more about ads</a>\n'},compiler:[8,">= 4.3.0"],main:function(t,n,e,a,r){var o,i,l=null!=n?n:t.nullContext||{},s=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'<div class="sub-photo-container centered-content">\n\t<div class="sub-photo-content-container">\n\t\t<div class="view sub-photo-left-view">\n\t\t\t<div class="attribution-view photo-attribution">\n\t\t\t\t<a class="attribution-icon no-menu circle-icon" href="#" data-track="ad_link_rail_icon" target="_blank">\n\t\t\t\t\t<img src="'+t.escapeExpression("function"==typeof(i=null!=(i=s(e,"assetRoot")||(null!=n?s(n,"assetRoot"):n))?i:t.hooks.helperMissing)?i.call(l,{name:"assetRoot",hash:{},data:r,loc:{start:{line:6,column:15},end:{line:6,column:28}}}):i)+'/images/general/moola.png"/>\n\t\t\t\t</a>\n\n\t\t\t\t<div class="attribution-info">\n'+(null!=(o=s(e,"if").call(l,null!=n?s(n,"isProUpsell"):n,{name:"if",hash:{},fn:t.program(1,r,0),inverse:t.program(3,r,0),data:r,loc:{start:{line:10,column:5},end:{line:14,column:12}}}))?o:"")+'\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="view sub-photo-title-desc-view" id="yui_3_16_0_rc_1_1_1401741750198_2372">\n\t\t\t\t<div class="title-desc-block">\n\t\t\t\t\t<span class=" meta-field photo-title ">\n'+(null!=(o=s(e,"if").call(l,null!=n?s(n,"isProUpsell"):n,{name:"if",hash:{},fn:t.program(5,r,0),inverse:t.program(7,r,0),data:r,loc:{start:{line:21,column:6},end:{line:25,column:13}}}))?o:"")+'\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="view sub-photo-right-view">\n\t\t\t<a href="/account/upgrade/pro" class="find-out-more" data-track="ad_link_rail_panel" target="_blank">\n\t\t\t\tAd free browsing? Sign up for Flickr Pro\n\t\t\t</a>\n\t\t</div>\n\t</div>\n</div>\n'},useData:!0}),a={};t.Array.each([],(function(n){var e=t.Template.get("hermes/"+n);e&&(a[n]=e)})),t.Template.register("hermes/sub-photo-moola-view",(function(n,r){return(r=r||{}).partials=r.partials?t.merge(a,r.partials):a,e(n,r)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-prbd-moola-position",(function(n,e){var l=n.Template.Handlebars.revive({1:function(n,e,l,a,t){return'"sigma_sony": "true"'},3:function(n,e,l,a,t){return',"sigma_nikon": "true"'},5:function(n,e,l,a,t){return',"sigma_sigma": "true"'},7:function(n,e,l,a,t){return',"sigma_fujifilm": "true"'},9:function(n,e,l,a,t){return',"sigma_leica": "true"'},11:function(n,e,l,a,t){return',"sigma_panasonic": "true"'},13:function(n,e,l,a,t){var o,i=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'lazyloadtest: "'+n.escapeExpression("function"==typeof(o=null!=(o=i(l,"lazyloadtest")||(null!=e?i(e,"lazyloadtest"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"lazyloadtest",hash:{},data:t,loc:{start:{line:1,column:554},end:{line:1,column:570}}}):o)+'",'},15:function(n,e,l,a,t){var o,i=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return' data-aa-adIdentity="'+n.escapeExpression("function"==typeof(o=null!=(o=i(l,"advertisingStitching")||(null!=e?i(e,"advertisingStitching"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"advertisingStitching",hash:{},data:t,loc:{start:{line:2,column:58},end:{line:2,column:82}}}):o)+'"'},17:function(n,e,l,a,t){return"upsell-fallback"},19:function(n,e,l,a,t){var o,i=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return null!=(o=i(l,"unless").call(null!=e?e:n.nullContext||{},null!=e?i(e,"prebidAdUnit"):e,{name:"unless",hash:{},fn:n.program(20,t,0),inverse:n.noop,data:t,loc:{start:{line:6,column:1},end:{line:8,column:12}}}))?o:""},20:function(n,e,l,a,t){var o,i=null!=e?e:n.nullContext||{},r=n.hooks.helperMissing,s=n.escapeExpression,u=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\t\t<p class="upgrade-to-pro-cta"><a href="'+s("function"==typeof(o=null!=(o=u(l,"upgradeProLink")||(null!=e?u(e,"upgradeProLink"):e))?o:r)?o.call(i,{name:"upgradeProLink",hash:{},data:t,loc:{start:{line:7,column:41},end:{line:7,column:59}}}):o)+'">'+s((u(l,"intlMessage")||e&&u(e,"intlMessage")||r).call(i,{name:"intlMessage",hash:{intlName:"common.UPGRADE_PRO_HIDE_ADS"},data:t,loc:{start:{line:7,column:61},end:{line:7,column:115}}}))+"</a></p>\n"},22:function(n,e,l,a,t){var o,i=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return null!=(o=(i(l,"isFlipped")||e&&i(e,"isFlipped")||n.hooks.helperMissing).call(null!=e?e:n.nullContext||{},"enable-ad-timer-lock",{name:"isFlipped",hash:{},fn:n.program(23,t,0),inverse:n.noop,data:t,loc:{start:{line:11,column:1},end:{line:15,column:15}}}))?o:""},23:function(n,e,l,a,t){var o=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\t\t<div class="navad-timer-container">\n\t\t\t<p class="navad-timer-text">'+n.escapeExpression((o(l,"intlMessage")||e&&o(e,"intlMessage")||n.hooks.helperMissing).call(null!=e?e:n.nullContext||{},{name:"intlMessage",hash:{adTimerStartCount:null!=e?o(e,"adTimerStartCount"):e,intlName:"common.AD_INTERSTITIAL_TIMER"},data:t,loc:{start:{line:13,column:31},end:{line:13,column:122}}}))+"</p>\n\t\t</div>\n"},compiler:[8,">= 4.3.0"],main:function(n,e,l,a,t){var o,i,r=n.escapeExpression,s=null!=e?e:n.nullContext||{},u=n.hooks.helperMissing,c=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<div data-aaad="true" data-aa-adunit="'+r(n.lambda(null!=(o=null!=e?c(e,"adUnit"):e)?c(o,"asc"):o,e))+'" data-aa-targeting=\'{ "test_segment": true,'+(null!=(o=(c(l,"inSegment")||e&&c(e,"inSegment")||u).call(s,"sigma_sony",{name:"inSegment",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t,loc:{start:{line:1,column:96},end:{line:1,column:157}}}))?o:"")+(null!=(o=(c(l,"inSegment")||e&&c(e,"inSegment")||u).call(s,"sigma_nikon",{name:"inSegment",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t,loc:{start:{line:1,column:157},end:{line:1,column:221}}}))?o:"")+(null!=(o=(c(l,"inSegment")||e&&c(e,"inSegment")||u).call(s,"sigma_sigma",{name:"inSegment",hash:{},fn:n.program(5,t,0),inverse:n.noop,data:t,loc:{start:{line:1,column:221},end:{line:1,column:285}}}))?o:"")+(null!=(o=(c(l,"inSegment")||e&&c(e,"inSegment")||u).call(s,"sigma_fujifilm",{name:"inSegment",hash:{},fn:n.program(7,t,0),inverse:n.noop,data:t,loc:{start:{line:1,column:285},end:{line:1,column:355}}}))?o:"")+(null!=(o=(c(l,"inSegment")||e&&c(e,"inSegment")||u).call(s,"sigma_leica",{name:"inSegment",hash:{},fn:n.program(9,t,0),inverse:n.noop,data:t,loc:{start:{line:1,column:355},end:{line:1,column:419}}}))?o:"")+(null!=(o=(c(l,"inSegment")||e&&c(e,"inSegment")||u).call(s,"sigma_panasonic",{name:"inSegment",hash:{},fn:n.program(11,t,0),inverse:n.noop,data:t,loc:{start:{line:1,column:419},end:{line:1,column:491}}}))?o:"")+(null!=(o=(c(l,"isFlipped")||e&&c(e,"isFlipped")||u).call(s,"enable-search-page-lazy-loading",{name:"isFlipped",hash:{},fn:n.program(13,t,0),inverse:n.noop,data:t,loc:{start:{line:1,column:491},end:{line:1,column:586}}}))?o:"")+" }'\n\t"+(null!=(o=(c(l,"isFlipped")||e&&c(e,"isFlipped")||u).call(s,"enable-ad-stitching",{name:"isFlipped",hash:{},fn:n.program(15,t,0),inverse:n.noop,data:t,loc:{start:{line:2,column:1},end:{line:2,column:97}}}))?o:"")+'\n\tclass="moola-container '+r("function"==typeof(i=null!=(i=c(l,"class")||(null!=e?c(e,"class"):e))?i:u)?i.call(s,{name:"class",hash:{},data:t,loc:{start:{line:3,column:24},end:{line:3,column:33}}}):i)+" "+(null!=(o=c(l,"if").call(s,null!=e?c(e,"upsellFallback"):e,{name:"if",hash:{},fn:n.program(17,t,0),inverse:n.noop,data:t,loc:{start:{line:3,column:34},end:{line:3,column:78}}}))?o:"")+'">\n</div>\n'+(null!=(o=c(l,"if").call(s,null!=e?c(e,"upgradeProLink"):e,{name:"if",hash:{},fn:n.program(19,t,0),inverse:n.noop,data:t,loc:{start:{line:5,column:0},end:{line:9,column:7}}}))?o:"")+(null!=(o=c(l,"if").call(s,null!=e?c(e,"signedOut"):e,{name:"if",hash:{},fn:n.program(22,t,0),inverse:n.noop,data:t,loc:{start:{line:10,column:0},end:{line:16,column:7}}}))?o:"")},useData:!0}),a={};n.Array.each([],(function(e){var l=n.Template.get("hermes/"+e);l&&(a[e]=l)})),n.Template.register("hermes/prbd-moola-position",(function(e,t){return(t=t||{}).partials=t.partials?n.merge(a,t.partials):a,l(e,t)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});