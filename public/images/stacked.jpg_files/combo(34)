YUI.add("hermes-lang-account-menu",(function(e,o){e.Intl.add("hermes/account-menu","en-US",{SPACE_USED:[{type:0,value:"Using "},{type:1,value:"percentage"},{type:0,value:"% of "},{type:1,value:"total"}],SPACE_USED_STYLEGUIDE:[{type:1,value:"percentage"},{type:0,value:"% used of "},{type:1,value:"total"}],SPACE_USED_UNLIMITED:[{type:0,value:"Using "},{type:1,value:"used"},{type:0,value:" of your unlimited storage"}],PHOTO_COUNT_MANY:[{type:2,value:"num",style:null},{type:0,value:" photos"}],PHOTO_COUNT_ONE:[{type:0,value:"One photo"}],PHOTO_COUNT_NONE:[{type:0,value:"No photos"}],PHOTO_COUNT_1K:[{type:2,value:"num",style:null},{type:0,value:"k photos"}],ADDMORESPACE:[{type:0,value:"Add more space"}],GOADFREE:[{type:0,value:"Go Ad Free"}],GOPRO:[{type:0,value:"Go Pro"}],GETPRO:[{type:0,value:"Get Pro"}],RESUBSCRIBE_TO_PRO:[{type:0,value:"Re-subscribe to Pro"}],GREETING_CAPTION_SPANISH:[{type:0,value:"Now you know how to greet people in Spanish"}],GREETING_CAPTION_GERMAN:[{type:0,value:"Now you know how to greet people in German"}],GREETING_CAPTION_AUSTRALIAN:[{type:0,value:"Now you know how to greet people in Australian"}],GREETING_CAPTION_DUTCH:[{type:0,value:"Now you know how to greet people in Dutch"}],GREETING_CAPTION_ENGLISH:[{type:0,value:"Now you know how to greet people in English"}],GREETING_CAPTION_ARABIC:[{type:0,value:"Now you know how to greet people in Arabic"}],GREETING_CAPTION_FRENCH:[{type:0,value:"Now you know how to greet people in French"}],GREETING_CAPTION_ITALIAN:[{type:0,value:"Now you know how to greet people in Italian"}],GREETING_CAPTION_SWEDISH:[{type:0,value:"Now you know how to greet people in Swedish"}],GREETING_CAPTION_HAWAIIAN:[{type:0,value:"Now you know how to greet people in Hawaiian"}],GREETING_CAPTION_TAGALOG:[{type:0,value:"Now you know how to greet people in Tagalog"}],GREETING_CAPTION_HEBREW:[{type:0,value:"Now you know how to greet people in Hebrew"}],GREETING_CAPTION_HINDI:[{type:0,value:"Now you know how to greet people in Hindi"}],GREETING_CAPTION_MANDARIN:[{type:0,value:"Now you know how to greet people in Mandarin"}],GREETING_CAPTION_PORTUGUESE:[{type:0,value:"Now you know how to greet people in Portuguese"}],GREETING_CAPTION_ALBANIAN:[{type:0,value:"Now you know how to greet people in Albanian"}],GREETING_CAPTION_ESTONIAN:[{type:0,value:"Now you know how to greet people in Estonian"}],GREETING_CAPTION_GREEK:[{type:0,value:"Now you know how to greet people in Greek"}],GREETING_CAPTION_HUNGARIAN:[{type:0,value:"Now you know how to greet people in Hungarian"}],GREETING_CAPTION_LINGALA:[{type:0,value:"Now you know how to greet people in Lingala"}],GREETING_CAPTION_SWAHILI:[{type:0,value:"Now you know how to greet people in Swahili"}],GREETING_CAPTION_TSHILUBA:[{type:0,value:"Now you know how to greet people in Tshiluba"}],GREETING_CAPTION_TURKISH:[{type:0,value:"Now you know how to greet people in Turkish"}],GREETING_CAPTION_BURMESE:[{type:0,value:"Now you know how to greet people in Burmese"}],GREETING_CAPTION_ICELANDIC:[{type:0,value:"Now you know how to greet people in Icelandic"}],GREETING_CAPTION_ZULU:[{type:0,value:"Now you know how to greet people in Zulu"}],GREETING_CAPTION_KOREAN:[{type:0,value:"Now you know how to greet people in Korean"}],GREETING_CAPTION_IRISH:[{type:0,value:"Now you know how to greet people in Irish"}],GREETING_CAPTION_LATVIAN:[{type:0,value:"Now you know how to greet people in Latvian"}],GREETING_CAPTION_BASQUE:[{type:0,value:"Now you know how to greet people in Basque"}],GREETING_CAPTION_BENGALI:[{type:0,value:"Now you know how to greet people in Bengali"}],GREETING_CAPTION_BULGARIAN:[{type:0,value:"Now you know how to greet people in Bulgarian"}],GREETING_CAPTION_CROATIAN:[{type:0,value:"Now you know how to greet people in Croatian"}],GREETING_CAPTION_CZECH:[{type:0,value:"Now you know how to greet people in Czech"}],GREETING_CAPTION_DANISH:[{type:0,value:"Now you know how to greet people in Danish"}],GREETING_CAPTION_FINNISH:[{type:0,value:"Now you know how to greet people in Finnish"}],GREETING_CAPTION_HOPI:[{type:0,value:"Now you know how to greet people in Hopi"}],GREETING_CAPTION_INDONESIAN:[{type:0,value:"Now you know how to greet people in Indonesian"}],GREETING_CAPTION_KANNADA:[{type:0,value:"Now you know how to greet people in Kannada"}],GREETING_CAPTION_KURDISH:[{type:0,value:"Now you know how to greet people in Kurdish"}],GREETING_CAPTION_LITHUANIAN:[{type:0,value:"Now you know how to greet people in Lithuanian"}],GREETING_CAPTION_MALAYSIAN:[{type:0,value:"Now you know how to greet people in Malay"}],GREETING_CAPTION_NORWEGIAN:[{type:0,value:"Now you know how to greet people in Norwegian"}],GREETING_CAPTION_POLISH:[{type:0,value:"Now you know how to greet people in Polish"}],GREETING_CAPTION_ROMANIAN:[{type:0,value:"Now you know how to greet people in Romanian"}],GREETING_CAPTION_RUSSIAN:[{type:0,value:"Now you know how to greet people in Russian"}],GREETING_CAPTION_SERBIAN:[{type:0,value:"Now you know how to greet people in Serbian"}],GREETING_CAPTION_SLOVAKIAN:[{type:0,value:"Now you know how to greet people in Slovakian"}],GREETING_CAPTION_UKRAINIAN:[{type:0,value:"Now you know how to greet people in Ukrainian"}],GREETING_CAPTION_VIETNAMESE:[{type:0,value:"Now you know how to greet people in Vietnamese"}],ITEM_COUNT_OF_LIMIT:[{type:1,value:"count"},{type:0,value:" of "},{type:1,value:"limit"},{type:0,value:" items"}],GET_UNLIMITED_UPLOADS:[{type:0,value:"Get unlimited uploads"}],UPLOAD_YOUR_PHOTOS:[{type:0,value:"Upload your photos"}],ITEM_LIMIT_REACHED:[{type:1,value:"limit"},{type:0,value:" item limit reached!"}],ITEM_LIMIT_EXCEEDED:[{type:1,value:"limit"},{type:0,value:" item limit exceeded!"}],GREETING_DEFAULT:[{type:0,value:'Hi, <a class="greeting-name" href="'},{type:1,value:"url"},{type:0,value:'">'},{type:1,value:"username"},{type:0,value:"</a>!"}],PRO_ASSISTANCE_UPSELL:[{type:0,value:'Get priority assistance from our world-class support heroes as a Flickr Pro. <a class="upgrade-pro-link" href="'},{type:1,value:"upgradeUrl"},{type:0,value:'">Upgrade now</a>'}]})}),"@VERSION@",{requires:["intl"]});YUI.add("hermes-lang-adult-content-overlay",(function(e,t){e.Intl.add("hermes/adult-content-overlay","en-US",{ADULT_CONTENT:[{type:0,value:"Adult Content"}],MATURE_AUDIENCES:[{type:0,value:"This content is for mature audiences only."}],JOIN_PRO_TO_VIEW:[{type:0,value:'<a class="join-pro-link" href="'},{type:1,value:"upgradeUrl"},{type:0,value:'" target="_blank">Join Flickr Pro</a> to view adult content.'}],SHOW_ME_FROM_NOW_ON_CTA:[{type:0,value:"Show me this content from now on"}]})}),"@VERSION@",{requires:["intl"]});YUI.add("photo-well-media-scrappy-view",(function(e,t){var i=require("hermes-core/flog")(t),n=new e.SubscriptionsHelper,o={photo:{render:function(){var t,i,n,o=this,a=this.get("photo"),s="";if(o.preloadImage&&(o.preloadImage.onload=null),this.appContext.forceServerRender?i=t=this.getPhotoForDisplay({canvas:{width:Number.MAX_VALUE,height:Number.MAX_VALUE}}):(t=this.getPhotoForDisplay(),i=this.getPhotoForDisplay({includeSizes:["sq","q","t","s","n"]})),a.getValue("owner")&&(s=""===a.getValue("title").trim()?this.intlMessage({intlName:"common.UNTITLED"}):a.getValue("title"),s+=" | "+this.intlMessage({intlName:"common.BY_USER",user:a.getValue("owner").getValue("username")})),!(n=this.get("container").one(".main-photo"))||parseInt(n.getAttribute("width"),10)!==t.width||parseInt(n.getAttribute("height"),10)!==t.height){const n=this.appContext.getViewer().signedIn?"wrongSetting":"signedOut";this.setContainerWithTemplate("photo-well-media-scrappy",{width:t.width,height:t.height,src:i.url,highResSrc:t.url,imgAltText:s,needsInterstitial:a.getValue("needsInterstitial"),isSignedIn:this.appContext.getViewer().signedIn,isVideo:!1,isMinor:this.appContext.getViewer().isMinor,nsfwOverlayConfig:{...this.appContext.flipper.isFlipped("enable-nsfw-2024")?e.NSFWHelper.getPhotoPageConfig(n):{},photoId:this.photoId}})}return YUI.Env.isServer?(this.serverWidth=t.width,this.serverHeight=t.height):a.getValue("needsInterstitial")||(o.preloadImage=new Image,o.preloadImage.onload=function(){this.onloadFired||o.isActiveAndInDOM()&&(this.onloadFired=!0,o.get("container").one(".main-photo").removeClass("is-hidden").show())},o.preloadImage.src=t.url,o.preloadImage.complete&&o.preloadImage.onload()),this}},video:{render:function(){var t=this.get("photo"),i=this.getPhotoForDisplay({excludeSizes:[]}),n=i.url;if(this.appContext.flipper.isFlipped("disable-video-playback")&&(n="/images/en-us/video-unavailable/m.png"),YUI.Env.isServer){let t=i.width/i.height;i.width=i.width-e.config.flickr.photopage.sidebarWidth,i.height=i.width/t}if(!this.player||t.getValue("isVideoPending")||t.getValue("isVideoFailed")){const o=this.appContext.getViewer().signedIn?"wrongSetting":"signedOut";return this.setContainerWithTemplate("photo-well-media-scrappy",{width:i.width,height:i.height,src:n,needsInterstitial:t.getValue("needsInterstitial"),isVideo:!0,isSignedIn:this.appContext.getViewer().signedIn,"zoom-view":"",nsfwOverlayConfig:{...this.appContext.flipper.isFlipped("enable-nsfw-2024")?e.NSFWHelper.getPhotoPageConfig(o):{},photoId:this.photoId}}),this}return t.getValue("isVideoPending")||t.getValue("isVideoFailed")||(this.player.dimension?(this.player.dimension("width",i.width),this.player.dimension("height",i.height)):this.player.resize(i.width,i.height)),this}},ad:{render:function(){var t=e.config.flickr.moola.positions.interstitials[0],i={},o=this.appContext.viewportData.getWidth(),a=e.config.flickr.moola.ad_breakpoint_mobile_desktop;return this.adEventStitch=this.appContext.adManager.getHashedAdValue(this.appContext.adManager.getAdPositioning(this.get("container"))),this.adId=e.guid(),i.signedOut=!this.appContext.getViewer().signedIn,i.adTimerStartCount=t.ad_timer_start_value,i.adUnit=t[o<a?"ad_unit_mobile":"ad_unit_desktop"],i.advertisingStitching=this.adEventStitch,i.upgradeProLink=n.getProLandingPageUrl(n.UTM_HIDE_ADS),this.adUnit=i.adUnit,this.setContainerWithTemplate("photo-well-media-interstitial-moola",i),this}},gettyWidget:{render:function(){this.setContainerWithTemplate("photo-well-media-interstitial-getty")}}};e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,subviewConfig:{"zoom-view":{requiredToShowOnClient:!1,requiredToShowOnServer:!1},"vr-overlay-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0,destinationContainer:".photo-well-media-scrappy-view",disabled:function(){return!this.appContext.flipper.isFlipped("enable-vr")}},"getty-widget-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0,type:"interstitial",searchTerm:"cat",disabled:function(){return!this.appContext.gettyHelper.canShowWidgetType()||!this.appContext.gettyHelper.isPhotopageInterstitialWidget()||!this.isAd}}},initializer:function(t){return this.photoId=t.photoId,this.isAd=!!t.ad,this.geo=t.geo,this.adSlots=[],this.photoPageSideBarWidth=e.config.flickr.photopage.sidebarWidth,""===this.get("container").get("innerHTML")&&this.setContainerHTML(""),this},loadState:function(){let t=[this.appContext.getModel("photo-models",this.photoId).then((t=>{if(this.set("photo",t),t.getValue("isVideo"))return new e.Promise((function(t,i){e.use("flickr-video-player",(function(){t()}))}))}))];return this.appContext.flipper.isFlipped("enable-nsfw-2024")&&(this.nsfwOverlayHelper=new e.NSFWHelper({appContext:this.appContext,viewerNsid:this.appContext.getViewer().nsid}),t.push(this.nsfwOverlayHelper.load())),Promise.all(t)},buildContainer:function(){return YUI.Env.isServer||this.set("clientRendered",!0),this.isAd?this.appContext.gettyHelper.isPhotopageInterstitialWidget()?o.gettyWidget.render.call(this):o.ad.render.call(this):this.get("photo").getValue("isVideo")?o.video.render.call(this):o.photo.render.call(this),!YUI.Env.isServer&&this.subviews["vr-overlay-view"]&&this.subviews["vr-overlay-view"].get("canVr")&&(this.canVR=!0,this.subviews["zoom-view"]&&this.subviews["zoom-view"].destroy({remove:!0})),this.get("photo").getValue("needsInterstitial")?(this.get("container").addClass("has-interstitial"),this.appContext.flipper.isFlipped("enable-nsfw-2024")&&this.get("container").addClass("with-nsfw-2024")):(this.get("container").removeClass("has-interstitial"),this.get("container").removeClass("with-nsfw-2024")),this},handleInterstitialDismissButtonClick:function(t){var n=this,o=this.get("personPreferences"),a=this.get("photo"),s=a.getValue("safetyLevel");e.rapidTracker.beacon(this.name,"restrictedContentInterstitialClick"),o.setValue("safeSearch",s),o.registry.remoteUpdate(n.appContext.auth.user.nsid).then((function(e){a.registry.attributeSearch({needsInterstitial:!0}).forEach((function(e){a.registry.getValue(e,"safetyLevel")<=o.getValue("safeSearch")&&a.registry.setValue(e,"needsInterstitial",!1)})),n.buildContainer(),n.fire("subviewViewEvent","photoWellResized")}),(function(e){i.error({err:e}),n.onError(n.intlMessage({intlName:"photo-page-scrappy.COULDNT_UPDATE_SETTINGS"}))}))},onParentViewEvent:function(e,t){t&&"photoWellResized"===t[0]&&(this.get("photo").getValue("needsInterstitial")||(this.set("canvasSizeIsDirty",!0),this.buildContainer()))},activate:function(){var t=this;return!this.get("photo").getValue("isVideo")||this.get("photo").getValue("isVideoPending")||this.get("photo").getValue("isVideoFailed")||(this.player=new e.FlickrVideoPlayer({container:t.get("container").one(".videoplayer"),model:t.get("photo"),appContext:t.appContext,videoNode:e.one("#video_1")?e.one("#video_1").getDOMNode():null,controlBar:{fullscreenToggle:!1}}),this.player.init(),this.on("destroy",(function(){t.player&&(t.player.destroy(),t.player=null)}))),this.get("photo").getValue("needsInterstitial")||this.registerEventHandler(e.on("flickr:photo-media-well-update",(function(e){t.set("canvasSizeIsDirty",!0),t.buildContainer()}))),this.appContext.getViewer().signedIn&&this.appContext.getModel("person-preferences-models",this.appContext.auth.user.nsid).then((function(e){t.set("personPreferences",e),t.get("photo").getValue("needsInterstitial")&&!this.appContext.getViewer().isMinor&&(this.appContext.flipper.isFlipped("enable-nsfw-2024")&&t.get("container").one(".adult-content-photo-overlay .cta")?t.registerEventHandler(t.get("container").one(".adult-content-photo-overlay .cta").on("click",(()=>{t.nsfwOverlayHelper.updateSafetyLevel({safetyLevel:t.get("photo").getValue("safetyLevel"),photoModelRegistry:t.get("photo").registry,onSuccess:()=>{t.buildContainer(),t.fire("subviewViewEvent","photoWellResized")},onError:e=>{i.error({err:e}),t.onError(t.intlMessage({intlName:"photo-page-scrappy.COULDNT_UPDATE_SETTINGS"}))}})}))):t.get("container").one(".restricted-interstitial-message button")&&t.registerEventHandler(t.get("container").one(".restricted-interstitial-message button").on("click",t.handleInterstitialDismissButtonClick,t)))})),(this.appContext.flipper.isFlipped("enable-infolinks-new-unit-testing")||!this.appContext.getViewer().signedIn&&this.geo&&"US"===this.geo.countryCode)&&this.appContext.adManager.handleInfolinks(this.get("photo").getValue("owner").getValue("isPro"),this.isAd),this.isAd&&!this.appContext.gettyHelper.isPhotopageInterstitialWidget()&&(t.appContext.adManager.processAdsOnPage(),t.adUnit&&t.appContext.adManager.signalAdRequest(t),e.once("adPageChange",(function(){t.fire("subviewViewEvent","adPageTimeoutStart")}))),this},showUpsell:function(){var e=this.get("container"),t=e.one("#interstitial-photo-upsell"),i=e.one("iframe");t&&t.addClass("show-upsell"),i&&i.setStyle("display","none")},onError:function(t){new e.Views.FluidModal({appContext:this.appContext,dismissOnOverlayClick:!0,showCancelButton:!1,showCancelX:!0,title:this.intlMessage({intlName:"common.ERROR"}),actionButtonLabel:this.intlMessage({intlName:"common.OK"}),htmlMessage:t}).show()},getPhotoForDisplay:function(e){var t,i,n,o=this.getCanvasSize(),a=this.getPixelRatio();return e&&e.canvasSize&&(o=e.canvasSize),t=this.get("photo").getSizeToFit(o,e),i=Math.min(o.height/a,t.height),n=Math.min(o.width/a,t.width/t.height*i),i=Math.min(i,t.height/t.width*n),{width:Math.round(n),height:Math.round(i),url:t.url,pixelRatio:t.width/n}},getCanvasSize:function(){var t,i,n,o,a=this.getPixelRatio(),s=this.get("container"),r={width:500,height:500};let h,l,p;return this.get("canvasSizeIsDirty")?YUI.Env.isServer||(h=e.one(".navigate-target.navigate-prev")&&e.one(".navigate-target.navigate-prev").one(".hide-text")?e.one(".navigate-target.navigate-prev").one(".hide-text").get("offsetWidth"):0,l=e.one(".navigate-target.navigate-next")&&e.one(".navigate-target.navigate-next").one(".hide-text")?e.one(".navigate-target.navigate-next").one(".hide-text").get("offsetWidth"):0,p=0,this.appContext.adManager.userCanViewPhotoPageSidebar()&&this.appContext.viewportData.getWidthWithScrollbars()>=1081&&(p=h+l+this.photoPageSideBarWidth),i=this.get("container").ancestor(),n=s.getStyle("paddingTop")?parseInt(s.getStyle("paddingTop").match(/[0-9]+/)[0],10):0,o=s.getStyle("paddingBottom")?parseInt(s.getStyle("paddingBottom").match(/[0-9]+/)[0],10):0,40,40,i&&((t=i.get("region")).height=parseInt(i.getStyle("height").match(/[0-9]+/)[0],10)-(n+o),t.width=this.appContext.viewportData.viewport.width-80-p)):t=this.get("cachedCanvasSize"),this.appContext.viewportData.viewport.width>0&&(r={width:this.appContext.viewportData.viewport.width,height:this.appContext.viewportData.viewport.height-240}),t||(t={top:0,left:0,bottom:500,right:500,width:r.width,height:r.height}),t.height*=a,t.width*=a,t},getPixelRatio:function(){return this.appContext.getViewer().getPixelRatio()}},{ATTRS:{canvasSizeIsDirty:{value:!0,setter:function(e){return!!e}},cachedCanvasSize:{getter:function(t){return e.merge(t)},setter:function(t){return e.merge(t)}}}})}),"@VERSION@",{requires:["flickr-view","moment","vr-overlay-view","zoom-view","hermes-template-photo-well-media-scrappy","hermes-template-sub-photo-moola-view","hermes-template-photo-well-media-interstitial-moola","hermes-template-adult-content-photo-overlay","subscriptions-helper","getty-widget-view","hermes-template-photo-well-media-interstitial-getty","nsfw-helper"],optionalRequires:["hermes-core"],optional:["photo-models"],langBundles:["common","photo-page-scrappy","adult-content-overlay"]});YUI.add("hermes-template-context-slider-photo",(function(n,l){var e=n.Template.Handlebars.revive({1:function(n,l,e,t,a){return" currentImage"},3:function(n,l,e,t,a){return" previousImages"},5:function(n,l,e,t,a){return" nextImages"},compiler:[8,">= 4.3.0"],main:function(n,l,e,t,a){var o,i,r=null!=l?l:n.nullContext||{},u=n.hooks.helperMissing,c="function",s=n.escapeExpression,m=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<a\n\tclass="context-thumb emptyImage\n\t\t'+(null!=(o=m(e,"if").call(r,null!=l?m(l,"currentPhoto"):l,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:3,column:2},end:{line:3,column:42}}}))?o:"")+"\n\t\t"+(null!=(o=m(e,"if").call(r,null!=l?m(l,"previousBigPhotos"):l,{name:"if",hash:{},fn:n.program(3,a,0),inverse:n.noop,data:a,loc:{start:{line:4,column:2},end:{line:4,column:49}}}))?o:"")+"\n\t\t"+(null!=(o=m(e,"if").call(r,null!=l?m(l,"nextBigPhotos"):l,{name:"if",hash:{},fn:n.program(5,a,0),inverse:n.noop,data:a,loc:{start:{line:5,column:2},end:{line:5,column:41}}}))?o:"")+'"\n\thref="'+s(typeof(i=null!=(i=m(e,"url")||(null!=l?m(l,"url"):l))?i:u)===c?i.call(r,{name:"url",hash:{},data:a,loc:{start:{line:6,column:7},end:{line:6,column:14}}}):i)+'"\n\tstyle="left: '+s(typeof(i=null!=(i=m(e,"left")||(null!=l?m(l,"left"):l))?i:u)===c?i.call(r,{name:"left",hash:{},data:a,loc:{start:{line:7,column:14},end:{line:7,column:22}}}):i)+'px"\n\tdata-photo-id="'+s(typeof(i=null!=(i=m(e,"id")||(null!=l?m(l,"id"):l))?i:u)===c?i.call(r,{name:"id",hash:{},data:a,loc:{start:{line:8,column:16},end:{line:8,column:22}}}):i)+'"\n\tdata-position="'+s(typeof(i=null!=(i=m(e,"position")||(null!=l?m(l,"position"):l))?i:u)===c?i.call(r,{name:"position",hash:{},data:a,loc:{start:{line:9,column:16},end:{line:9,column:28}}}):i)+'"\n\ttitle="'+s(typeof(i=null!=(i=m(e,"title")||(null!=l?m(l,"title"):l))?i:u)===c?i.call(r,{name:"title",hash:{},data:a,loc:{start:{line:10,column:8},end:{line:10,column:17}}}):i)+'"\n\ttabindex="-1"\n>\n\t<img src="'+s(typeof(i=null!=(i=m(e,"background")||(null!=l?m(l,"background"):l))?i:u)===c?i.call(r,{name:"background",hash:{},data:a,loc:{start:{line:13,column:11},end:{line:13,column:25}}}):i)+'" loading="lazy">\n</a>\n'},useData:!0}),t={};n.Array.each([],(function(l){var e=n.Template.get("hermes/"+l);e&&(t[l]=e)})),n.Template.register("hermes/context-slider-photo",(function(l,a){return(a=a||{}).partials=a.partials?n.merge(t,a.partials):t,e(l,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-context-slider-scrappy",(function(t,n){var e=t.Template.Handlebars.revive({1:function(t,n,e,r,l){var a=null!=n?n:t.nullContext||{},o=t.hooks.helperMissing,s=t.escapeExpression,i=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return"\t<div class='loadingError'>\n\t\t<p>"+s((i(e,"intlMessage")||n&&i(n,"intlMessage")||o).call(a,{name:"intlMessage",hash:{intlName:"photo-page-scrappy.ERROR_LOADING_CONTEXT"},data:l,loc:{start:{line:3,column:5},end:{line:3,column:72}}}))+'</p>\n\t\t<p><button href="#" class="ui-button ui-button-cta ui-button-transparent retry">'+s((i(e,"intlMessage")||n&&i(n,"intlMessage")||o).call(a,{name:"intlMessage",hash:{intlName:"common.RETRY"},data:l,loc:{start:{line:4,column:82},end:{line:4,column:121}}}))+"</button></p>\n\t</div>\n"},3:function(t,n,e,r,l){var a,o=null!=n?n:t.nullContext||{},s=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\n\t<div class=\'context-slider small-slider\'>\n\n\t\t<div class="wrapper is-ready clear-float small-photos">\n\n\t\t\t<div class="slider">\n\n'+(null!=(a=s(e,"each").call(o,null!=n?s(n,"previousPhotos"):n,{name:"each",hash:{},fn:t.program(4,l,0),inverse:t.noop,data:l,loc:{start:{line:14,column:4},end:{line:16,column:13}}}))?a:"")+"\n"+(null!=(a=s(e,"if").call(o,null!=n?s(n,"is-ad"):n,{name:"if",hash:{},fn:t.program(6,l,0),inverse:t.program(8,l,0),data:l,loc:{start:{line:18,column:4},end:{line:24,column:11}}}))?a:"")+"\n"+(null!=(a=s(e,"each").call(o,null!=n?s(n,"nextPhotos"):n,{name:"each",hash:{},fn:t.program(4,l,0),inverse:t.noop,data:l,loc:{start:{line:26,column:4},end:{line:28,column:13}}}))?a:"")+"\n\t\t\t</div>\n\n\t\t</div>\n\n\t</div>\n\n"+(null!=(a=s(e,"if").call(o,null!=n?s(n,"showBigSlider"):n,{name:"if",hash:{},fn:t.program(11,l,0),inverse:t.noop,data:l,loc:{start:{line:36,column:1},end:{line:68,column:8}}}))?a:"")+"\n"},4:function(t,n,e,r,l){var a,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return null!=(a=t.invokePartial(o(r,"context-slider-photo"),n,{name:"context-slider-photo",data:l,indent:"\t\t\t\t\t",helpers:e,partials:r,decorators:t.decorators}))?a:""},6:function(t,n,e,r,l){return'\t\t\t\t\t<a class="context-thumb middle currentImage adThumb">Ad</a>\n'},8:function(t,n,e,r,l){var a,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return null!=(a=o(e,"each").call(null!=n?n:t.nullContext||{},null!=n?o(n,"currentPhoto"):n,{name:"each",hash:{},fn:t.program(9,l,0),inverse:t.noop,data:l,loc:{start:{line:21,column:5},end:{line:23,column:14}}}))?a:""},9:function(t,n,e,r,l){var a,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return null!=(a=t.invokePartial(o(r,"context-slider-photo"),n,{name:"context-slider-photo",data:l,indent:"\t\t\t\t\t\t",helpers:e,partials:r,decorators:t.decorators}))?a:""},11:function(t,n,e,r,l){var a,o=null!=n?n:t.nullContext||{},s=t.hooks.helperMissing,i=t.escapeExpression,c=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t\t<div class=\'context-slider big-slider\'>\n\n\t\t\t<span class="nav nav-l">\n\t\t\t\t<span class="hide-text">&larr;</span>\n\t\t\t</span>\n\n\t\t\t<div class="wrapper clear-float">\n\n\t\t\t\t<div class="slider">\n\n\t\t\t\t\t'+i((c(e,"renderTrustedMarkup")||n&&c(n,"renderTrustedMarkup")||s).call(o,null!=n?c(n,"previousBigPhotos"):n,{name:"renderTrustedMarkup",hash:{},data:l,loc:{start:{line:47,column:5},end:{line:47,column:46}}}))+"\n\n"+(null!=(a=c(e,"if").call(o,null!=n?c(n,"is-ad"):n,{name:"if",hash:{},fn:t.program(12,l,0),inverse:t.program(14,l,0),data:l,loc:{start:{line:49,column:5},end:{line:55,column:12}}}))?a:"")+"\n\t\t\t\t\t"+i((c(e,"renderTrustedMarkup")||n&&c(n,"renderTrustedMarkup")||s).call(o,null!=n?c(n,"nextBigPhotos"):n,{name:"renderTrustedMarkup",hash:{},data:l,loc:{start:{line:57,column:5},end:{line:57,column:42}}}))+'\n\n\t\t\t\t</div>\n\n\t\t\t</div>\n\n\t\t\t<span class="nav nav-r">\n\t\t\t\t<span class="hide-text">&rarr;</span>\n\t\t\t</span>\n\n\t\t</div>\n'},12:function(t,n,e,r,l){return'\t\t\t\t\t\t<a class="context-thumb middle currentImage adThumb">Ad</a>\n'},14:function(t,n,e,r,l){var a,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return null!=(a=o(e,"each").call(null!=n?n:t.nullContext||{},null!=n?o(n,"currentPhoto"):n,{name:"each",hash:{},fn:t.program(15,l,0),inverse:t.noop,data:l,loc:{start:{line:52,column:6},end:{line:54,column:15}}}))?a:""},15:function(t,n,e,r,l){var a,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return null!=(a=t.invokePartial(o(r,"context-slider-photo"),n,{name:"context-slider-photo",data:l,indent:"\t\t\t\t\t\t\t",helpers:e,partials:r,decorators:t.decorators}))?a:""},compiler:[8,">= 4.3.0"],main:function(t,n,e,r,l){var a,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return null!=(a=o(e,"if").call(null!=n?n:t.nullContext||{},null!=n?o(n,"loadingError"):n,{name:"if",hash:{},fn:t.program(1,l,0),inverse:t.program(3,l,0),data:l,loc:{start:{line:1,column:0},end:{line:70,column:7}}}))?a:""},usePartial:!0,useData:!0}),r={};t.Array.each(["context-slider-photo","context-slider-photo","context-slider-photo","context-slider-photo"],(function(n){var e=t.Template.get("hermes/"+n);e&&(r[n]=e)})),t.Template.register("hermes/context-slider-scrappy",(function(n,l){return(l=l||{}).partials=l.partials?t.merge(r,l.partials):r,e(n,l)}))}),"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-context-slider-photo","hermes-template-context-slider-photo","hermes-template-context-slider-photo","hermes-template-context-slider-photo"]});YUI.add("hermes-template-context-image",(function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,a,l){var r,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\n\t<a data-loaded="false" style="left:'+e.escapeExpression("function"==typeof(r=null!=(r=o(n,"left")||(null!=t?o(t,"left"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"left",hash:{},data:l,loc:{start:{line:3,column:36},end:{line:3,column:44}}}):r)+';float:left;display:block;position:absolute;background-color:gray;height:40px;width:86px;border:1px solid transparent;" href="#">\n\t\t\n\t</a>\n\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,l){var r,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(r=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"images"):t,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:7,column:9}}}))?r:""},useData:!0}),a={};e.Array.each([],(function(t){var n=e.Template.get("hermes/"+t);n&&(a[t]=n)})),e.Template.register("hermes/context-image",(function(t,l){return(l=l||{}).partials=l.partials?e.merge(a,l.partials):a,n(t,l)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-context-text",(function(e,t){var l=e.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(e,t,l,n,a){var r,o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,i="function",p=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\n\n<span data-loaded="true" style="left:'+p(typeof(r=null!=(r=c(l,"left")||(null!=t?c(t,"left"):t))?r:s)===i?r.call(o,{name:"left",hash:{},data:a,loc:{start:{line:3,column:37},end:{line:3,column:45}}}):r)+';float:left;display:block;position:absolute;height:40px;width:86px;border:1px solid #ccc;" href="#">\n\t'+p(typeof(r=null!=(r=c(l,"text")||(null!=t?c(t,"text"):t))?r:s)===i?r.call(o,{name:"text",hash:{},data:a,loc:{start:{line:4,column:1},end:{line:4,column:9}}}):r)+"\n</span>\n\n"},useData:!0}),n={};e.Array.each([],(function(t){var l=e.Template.get("hermes/"+t);l&&(n[t]=l)})),e.Template.register("hermes/context-text",(function(t,a){return(a=a||{}).partials=a.partials?e.merge(n,a.partials):n,l(t,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});