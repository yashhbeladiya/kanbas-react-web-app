YUI.add("hermes-template-sub-photo-contexts-item",(function(n,l){var t=n.Template.Handlebars.revive({1:function(n,l,t,e,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(a=r(t,"if").call(null!=l?l:n.nullContext||{},null!=(a=null!=l?r(l,"group"):l)?r(a,"mediumIconURL"):a,{name:"if",hash:{},fn:n.program(2,o,0),inverse:n.program(4,o,0),data:o,loc:{start:{line:3,column:2},end:{line:19,column:9}}}))?a:""},2:function(n,l,t,e,o){var a,r,u=n.escapeExpression,i=n.lambda,s=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t<a href="'+u("function"==typeof(r=null!=(r=s(t,"url")||(null!=l?s(l,"url"):l))?r:n.hooks.helperMissing)?r.call(null!=l?l:n.nullContext||{},{name:"url",hash:{},data:o,loc:{start:{line:4,column:12},end:{line:4,column:19}}}):r)+"\"\n\t\t\t\tclass='avatar group thumbnail'\n\t\t\t\tstyle='background-image: url(\""+u(i(null!=(a=null!=l?s(l,"group"):l)?s(a,"mediumIconURL"):a,l))+"\");'\n\t\t\t\tdata-group-nsid='"+u(i(null!=(a=null!=l?s(l,"group"):l)?s(a,"id"):a,l))+"'></a>\n"},4:function(n,l,t,e,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(a=r(t,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"primaryPhotoSizes"):l,{name:"if",hash:{},fn:n.program(5,o,0),inverse:n.program(7,o,0),data:o,loc:{start:{line:9,column:3},end:{line:18,column:10}}}))?a:""},5:function(n,l,t,e,o){var a,r,u=n.escapeExpression,i=n.lambda,s=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t<a href="'+u("function"==typeof(r=null!=(r=s(t,"url")||(null!=l?s(l,"url"):l))?r:n.hooks.helperMissing)?r.call(null!=l?l:n.nullContext||{},{name:"url",hash:{},data:o,loc:{start:{line:10,column:13},end:{line:10,column:20}}}):r)+"\"\n\t\t\t\t\tclass='avatar group thumbnail' style='background-image: url(\""+u(i(null!=(a=null!=(a=null!=l?s(l,"primaryPhotoSizes"):l)?s(a,"sq"):a)?s(a,"src"):a,l))+"\");'\n\t\t\t\t\tdata-group-nsid='"+u(i(null!=(a=null!=l?s(l,"group"):l)?s(a,"id"):a,l))+"'></a>\n"},7:function(n,l,t,e,o){var a,r,u=null!=l?l:n.nullContext||{},i=n.hooks.helperMissing,s=n.escapeExpression,c=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t<a href="'+s("function"==typeof(r=null!=(r=c(t,"url")||(null!=l?c(l,"url"):l))?r:i)?r.call(u,{name:"url",hash:{},data:o,loc:{start:{line:14,column:13},end:{line:14,column:20}}}):r)+"\"\n\t\t\t\t\tclass='avatar group thumbnail'\n\t\t\t\t\tstyle='background-image: url(\"https://combo.staticflickr.com/pw/images/"+(null!=(a=(c(t,"isFlipped")||l&&c(l,"isFlipped")||i).call(u,"enable-blue-buddyicons",{name:"isFlipped",hash:{},fn:n.program(8,o,0),inverse:n.noop,data:o,loc:{start:{line:16,column:76},end:{line:16,column:130}}}))?a:"")+"buddyicon11_s.png\");'\n\t\t\t\t\tdata-group-nsid='"+s(n.lambda(null!=(a=null!=l?c(l,"group"):l)?c(a,"id"):a,l))+"'></a>\n"},8:function(n,l,t,e,o){return"b"},10:function(n,l,t,e,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(a=r(t,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"bestIconURL"):l,{name:"if",hash:{},fn:n.program(11,o,0),inverse:n.program(13,o,0),data:o,loc:{start:{line:21,column:2},end:{line:29,column:9}}}))?a:""},11:function(n,l,t,e,o){var a,r=null!=l?l:n.nullContext||{},u=n.hooks.helperMissing,i="function",s=n.escapeExpression,c=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t<a href="'+s(typeof(a=null!=(a=c(t,"url")||(null!=l?c(l,"url"):l))?a:u)===i?a.call(r,{name:"url",hash:{},data:o,loc:{start:{line:22,column:12},end:{line:22,column:19}}}):a)+"\" class='thumbnail' style='background-image: url(\""+s(typeof(a=null!=(a=c(t,"bestIconURL")||(null!=l?c(l,"bestIconURL"):l))?a:u)===i?a.call(r,{name:"bestIconURL",hash:{},data:o,loc:{start:{line:22,column:69},end:{line:22,column:84}}}):a)+"\");'></a>\n"},13:function(n,l,t,e,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(a=r(t,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"primaryPhotoSizes"):l,{name:"if",hash:{},fn:n.program(14,o,0),inverse:n.program(16,o,0),data:o,loc:{start:{line:24,column:3},end:{line:28,column:10}}}))?a:""},14:function(n,l,t,e,o){var a,r,u=n.escapeExpression,i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t<a href="'+u("function"==typeof(r=null!=(r=i(t,"url")||(null!=l?i(l,"url"):l))?r:n.hooks.helperMissing)?r.call(null!=l?l:n.nullContext||{},{name:"url",hash:{},data:o,loc:{start:{line:25,column:13},end:{line:25,column:20}}}):r)+"\" class='thumbnail' style='background-image: url(\""+u(n.lambda(null!=(a=null!=(a=null!=l?i(l,"primaryPhotoSizes"):l)?i(a,"sq"):a)?i(a,"src"):a,l))+"\");'></a>\n"},16:function(n,l,t,e,o){var a,r,u=null!=l?l:n.nullContext||{},i=n.hooks.helperMissing,s=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t<a href="'+n.escapeExpression("function"==typeof(r=null!=(r=s(t,"url")||(null!=l?s(l,"url"):l))?r:i)?r.call(u,{name:"url",hash:{},data:o,loc:{start:{line:27,column:13},end:{line:27,column:20}}}):r)+"\" class='thumbnail' style='background-image: url(\"https://combo.staticflickr.com/pw/images/"+(null!=(a=(s(t,"isFlipped")||l&&s(l,"isFlipped")||i).call(u,"enable-blue-buddyicons",{name:"isFlipped",hash:{},fn:n.program(8,o,0),inverse:n.noop,data:o,loc:{start:{line:27,column:111},end:{line:27,column:165}}}))?a:"")+"buddyicon11_s.png\");'></a>\n"},18:function(n,l,t,e,o){var a,r,u=null!=l?l:n.nullContext||{},i=n.hooks.helperMissing,s=n.escapeExpression,c=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return"\n\t\t<span class='title'><a href=\""+s("function"==typeof(r=null!=(r=c(t,"url")||(null!=l?c(l,"url"):l))?r:i)?r.call(u,{name:"url",hash:{},data:o,loc:{start:{line:33,column:31},end:{line:33,column:38}}}):r)+'">'+(null!=(a=c(t,"if").call(u,null!=l?c(l,"truncateTitle"):l,{name:"if",hash:{},fn:n.program(19,o,0),inverse:n.noop,data:o,loc:{start:{line:33,column:40},end:{line:33,column:91}}}))?a:"")+s((c(t,"renderTrustedMarkup")||l&&c(l,"renderTrustedMarkup")||i).call(u,null!=l?c(l,"title"):l,{name:"renderTrustedMarkup",hash:{},data:o,loc:{start:{line:33,column:91},end:{line:33,column:120}}}))+(null!=(a=c(t,"if").call(u,null!=l?c(l,"truncateTitle"):l,{name:"if",hash:{},fn:n.program(21,o,0),inverse:n.noop,data:o,loc:{start:{line:33,column:120},end:{line:33,column:155}}}))?a:"")+"</a></span>\n\n"},19:function(n,l,t,e,o){return'<span class="truncate">'},21:function(n,l,t,e,o){return"</span>"},23:function(n,l,t,e,o){var a,r,u=null!=l?l:n.nullContext||{},i=n.hooks.helperMissing,s="function",c=n.escapeExpression,p=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return"\t\t<span class='title'><a href=\""+c(typeof(r=null!=(r=p(t,"url")||(null!=l?p(l,"url"):l))?r:i)===s?r.call(u,{name:"url",hash:{},data:o,loc:{start:{line:36,column:31},end:{line:36,column:38}}}):r)+'">'+(null!=(a=p(t,"if").call(u,null!=l?p(l,"truncateTitle"):l,{name:"if",hash:{},fn:n.program(19,o,0),inverse:n.noop,data:o,loc:{start:{line:36,column:40},end:{line:36,column:91}}}))?a:"")+c(typeof(r=null!=(r=p(t,"title")||(null!=l?p(l,"title"):l))?r:i)===s?r.call(u,{name:"title",hash:{},data:o,loc:{start:{line:36,column:91},end:{line:36,column:100}}}):r)+(null!=(a=p(t,"if").call(u,null!=l?p(l,"truncateTitle"):l,{name:"if",hash:{},fn:n.program(21,o,0),inverse:n.noop,data:o,loc:{start:{line:36,column:100},end:{line:36,column:135}}}))?a:"")+"</a></span>\n"},25:function(n,l,t,e,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(a=r(t,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"isInvitation"):l,{name:"if",hash:{},fn:n.program(26,o,0),inverse:n.program(32,o,0),data:o,loc:{start:{line:40,column:3},end:{line:61,column:10}}}))?a:""},26:function(n,l,t,e,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(a=r(t,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"invitedByViewer"):l,{name:"if",hash:{},fn:n.program(27,o,0),inverse:n.program(29,o,0),data:o,loc:{start:{line:41,column:4},end:{line:50,column:11}}}))?a:""},27:function(n,l,t,e,o){var a=null!=l?l:n.nullContext||{},r=n.hooks.helperMissing,u=n.escapeExpression,i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t\t<a href="#" class="cancel-invite"><span class="pending-text">'+u((i(t,"intlMessage")||l&&i(l,"intlMessage")||r).call(a,{name:"intlMessage",hash:{intlName:"photo-page-scrappy.INVITE_PENDING"},data:o,loc:{start:{line:42,column:66},end:{line:42,column:126}}}))+'</span><span class="cancel-text">'+u((i(t,"intlMessage")||l&&i(l,"intlMessage")||r).call(a,{name:"intlMessage",hash:{intlName:"photo-page-scrappy.CANCEL_INVITE"},data:o,loc:{start:{line:42,column:159},end:{line:42,column:218}}}))+"</span></a>\n"},29:function(n,l,t,e,o){var a,r=null!=l?l:n.nullContext||{},u=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t\t<button href="#" class="ui-button ui-button-cta accept-invite">'+n.escapeExpression((u(t,"intlMessage")||l&&u(l,"intlMessage")||n.hooks.helperMissing).call(r,{name:"intlMessage",hash:{intlName:"photo-page-scrappy.ACCEPT_INVITE"},data:o,loc:{start:{line:44,column:68},end:{line:44,column:127}}}))+"</button>\n"+(null!=(a=u(t,"if").call(r,null!=l?u(l,"canRemove"):l,{name:"if",hash:{},fn:n.program(30,o,0),inverse:n.noop,data:o,loc:{start:{line:45,column:5},end:{line:49,column:12}}}))?a:"")},30:function(n,l,t,e,o){return'\t\t\t\t\t\t<a href="#" class="remove phone-and-tablet-only">\n\t\t\t\t\t\t\t<svg class="icon icon-close"><use xlink:href="#icon-close"></use></svg>\n\t\t\t\t\t\t</a>\n'},32:function(n,l,t,e,o){var a,r=null!=l?l:n.nullContext||{},u=n.hooks.helperMissing,i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return(null!=(a=(i(t,"ifCond")||l&&i(l,"ifCond")||u).call(r,null!=l?i(l,"poolCount"):l,"===",0,{name:"ifCond",hash:{},fn:n.program(33,o,0),inverse:n.noop,data:o,loc:{start:{line:52,column:4},end:{line:54,column:15}}}))?a:"")+(null!=(a=(i(t,"ifCond")||l&&i(l,"ifCond")||u).call(r,null!=l?i(l,"poolCount"):l,"===",1,{name:"ifCond",hash:{},fn:n.program(35,o,0),inverse:n.noop,data:o,loc:{start:{line:55,column:4},end:{line:57,column:15}}}))?a:"")+(null!=(a=(i(t,"ifCond")||l&&i(l,"ifCond")||u).call(r,null!=l?i(l,"poolCount"):l,">",1,{name:"ifCond",hash:{},fn:n.program(37,o,0),inverse:n.noop,data:o,loc:{start:{line:58,column:4},end:{line:60,column:15}}}))?a:"")},33:function(n,l,t,e,o){return"\n"},35:function(n,l,t,e,o){var a=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return"\t\t\t\t\t"+n.escapeExpression((a(t,"intlMessage")||l&&a(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.ONE_ITEM"},data:o,loc:{start:{line:56,column:5},end:{line:56,column:59}}}))+"\n"},37:function(n,l,t,e,o){var a=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return"\t\t\t\t\t"+n.escapeExpression((a(t,"intlMessage")||l&&a(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{count:null!=l?a(l,"friendlyPoolCount"):l,intlName:"photo-page-scrappy.N_ITEMS"},data:o,loc:{start:{line:59,column:5},end:{line:59,column:82}}}))+"\n"},39:function(n,l,t,e,o){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return"\t\t\t"+n.escapeExpression("function"==typeof(a=null!=(a=r(t,"photoCountDisplay")||(null!=l?r(l,"photoCountDisplay"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"photoCountDisplay",hash:{},data:o,loc:{start:{line:63,column:3},end:{line:63,column:24}}}):a)+"\n"},41:function(n,l,t,e,o){return'\t\t<a href="#" class="remove desktop-only">\n\t\t\t<svg class="icon icon-close"><use xlink:href="#icon-close"></use></svg>\n\t\t</a>\n'},compiler:[8,">= 4.3.0"],main:function(n,l,t,e,o){var a,r,u=null!=l?l:n.nullContext||{},i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<li data-context-id="'+n.escapeExpression("function"==typeof(r=null!=(r=i(t,"id")||(null!=l?i(l,"id"):l))?r:n.hooks.helperMissing)?r.call(u,{name:"id",hash:{},data:o,loc:{start:{line:1,column:21},end:{line:1,column:27}}}):r)+'">\n'+(null!=(a=i(t,"if").call(u,null!=l?i(l,"isGroup"):l,{name:"if",hash:{},fn:n.program(1,o,0),inverse:n.program(10,o,0),data:o,loc:{start:{line:2,column:1},end:{line:30,column:8}}}))?a:"")+(null!=(a=i(t,"if").call(u,null!=l?i(l,"isGroup"):l,{name:"if",hash:{},fn:n.program(18,o,0),inverse:n.program(23,o,0),data:o,loc:{start:{line:31,column:1},end:{line:37,column:8}}}))?a:"")+"\t<span class='counts'>\n"+(null!=(a=i(t,"if").call(u,null!=l?i(l,"isGroup"):l,{name:"if",hash:{},fn:n.program(25,o,0),inverse:n.program(39,o,0),data:o,loc:{start:{line:39,column:2},end:{line:64,column:9}}}))?a:"")+"\t</span>\n"+(null!=(a=i(t,"if").call(u,null!=l?i(l,"canRemove"):l,{name:"if",hash:{},fn:n.program(41,o,0),inverse:n.noop,data:o,loc:{start:{line:66,column:1},end:{line:70,column:8}}}))?a:"")+"</li>\n"},useData:!0}),e={};n.Array.each([],(function(l){var t=n.Template.get("hermes/"+l);t&&(e[l]=t)})),n.Template.register("hermes/sub-photo-contexts-item",(function(l,o){return(o=o||{}).partials=o.partials?n.merge(e,o.partials):e,t(l,o)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-sub-photo-contexts-title-groups",(function(n,e){var l=n.Template.Handlebars.revive({1:function(n,e,l,t,o){var a,r=null!=e?e:n.nullContext||{},s=n.hooks.helperMissing,i=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return(null!=(a=(i(l,"ifCond")||e&&i(e,"ifCond")||s).call(r,null!=e?i(e,"totalGroups"):e,"!==",0,{name:"ifCond",hash:{},fn:n.program(2,o,0),inverse:n.noop,data:o,loc:{start:{line:3,column:2},end:{line:5,column:13}}}))?a:"")+(null!=(a=(i(l,"ifCond")||e&&i(e,"ifCond")||s).call(r,null!=e?i(e,"totalGroups"):e,"===",0,{name:"ifCond",hash:{},fn:n.program(4,o,0),inverse:n.noop,data:o,loc:{start:{line:6,column:2},end:{line:8,column:13}}}))?a:"")},2:function(n,e,l,t,o){var a=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"\t\t\t"+n.escapeExpression((a(l,"intlMessage")||e&&a(e,"intlMessage")||n.hooks.helperMissing).call(null!=e?e:n.nullContext||{},{name:"intlMessage",hash:{count:null!=e?a(e,"totalGroups"):e,intlName:"photo-page-scrappy.GROUPS_COUNT"},data:o,loc:{start:{line:4,column:3},end:{line:4,column:79}}}))+"\n"},4:function(n,e,l,t,o){var a=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"\t\t\t"+n.escapeExpression((a(l,"intlMessage")||e&&a(e,"intlMessage")||n.hooks.helperMissing).call(null!=e?e:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.PHOTO_IN_NO_GROUPS"},data:o,loc:{start:{line:7,column:3},end:{line:7,column:67}}}))+"\n"},6:function(n,e,l,t,o){var a,r=null!=e?e:n.nullContext||{},s=n.hooks.helperMissing,i=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return(null!=(a=(i(l,"ifCond")||e&&i(e,"ifCond")||s).call(r,null!=e?i(e,"totalGroups"):e,"===",1,{name:"ifCond",hash:{},fn:n.program(7,o,0),inverse:n.noop,data:o,loc:{start:{line:10,column:2},end:{line:12,column:13}}}))?a:"")+(null!=(a=(i(l,"ifCond")||e&&i(e,"ifCond")||s).call(r,null!=e?i(e,"totalGroups"):e,">",1,{name:"ifCond",hash:{},fn:n.program(9,o,0),inverse:n.noop,data:o,loc:{start:{line:13,column:2},end:{line:15,column:13}}}))?a:"")+(null!=(a=(i(l,"ifCond")||e&&i(e,"ifCond")||s).call(r,null!=e?i(e,"totalGroups"):e,"===",0,{name:"ifCond",hash:{},fn:n.program(4,o,0),inverse:n.noop,data:o,loc:{start:{line:16,column:2},end:{line:18,column:13}}}))?a:"")},7:function(n,e,l,t,o){var a=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"\t\t\t"+n.escapeExpression((a(l,"intlMessage")||e&&a(e,"intlMessage")||n.hooks.helperMissing).call(null!=e?e:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.PHOTO_IN_ONE_GROUP"},data:o,loc:{start:{line:11,column:3},end:{line:11,column:67}}}))+"\n"},9:function(n,e,l,t,o){var a=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"\t\t\t"+n.escapeExpression((a(l,"intlMessage")||e&&a(e,"intlMessage")||n.hooks.helperMissing).call(null!=e?e:n.nullContext||{},{name:"intlMessage",hash:{count:null!=e?a(e,"totalGroups"):e,intlName:"photo-page-scrappy.PHOTO_IN_MANY_GROUPS"},data:o,loc:{start:{line:14,column:3},end:{line:14,column:87}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(n,e,l,t,o){var a,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<h5 class="total">\n'+(null!=(a=r(l,"if").call(null!=e?e:n.nullContext||{},null!=e?r(e,"isMobile"):e,{name:"if",hash:{},fn:n.program(1,o,0),inverse:n.program(6,o,0),data:o,loc:{start:{line:2,column:1},end:{line:19,column:8}}}))?a:"")+"</h5>"},useData:!0}),t={};n.Array.each([],(function(e){var l=n.Template.get("hermes/"+e);l&&(t[e]=l)})),n.Template.register("hermes/sub-photo-contexts-title-groups",(function(e,o){return(o=o||{}).partials=o.partials?n.merge(t,o.partials):t,l(e,o)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-sub-photo-contexts-groups",(function(n,t){var e=n.Template.Handlebars.revive({1:function(n,t,e,l,o){var a,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(a=r(e,"if").call(null!=t?t:n.nullContext||{},null!=t?r(t,"canAddOrInvite"):t,{name:"if",hash:{},fn:n.program(2,o,0),inverse:n.noop,data:o,loc:{start:{line:2,column:1},end:{line:19,column:8}}}))?a:""},2:function(n,t,e,l,o){var a,r=null!=t?t:n.nullContext||{},s=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t<div class="sub-photo-context sub-photo-context-groups empty">\n\t\t\t<p tabindex="0">'+n.escapeExpression((s(e,"intlMessage")||t&&s(t,"intlMessage")||n.hooks.helperMissing).call(r,{name:"intlMessage",hash:{intlName:"photo-page-scrappy.PHOTO_NOT_IN_GROUPS"},data:o,loc:{start:{line:4,column:19},end:{line:4,column:84}}}))+"</p>\n"+(null!=(a=s(e,"if").call(r,null!=t?s(t,"canAdd"):t,{name:"if",hash:{},fn:n.program(3,o,0),inverse:n.noop,data:o,loc:{start:{line:5,column:3},end:{line:14,column:10}}}))?a:"")+(null!=(a=s(e,"if").call(r,null!=t?s(t,"canInvite"):t,{name:"if",hash:{},fn:n.program(8,o,0),inverse:n.noop,data:o,loc:{start:{line:15,column:3},end:{line:17,column:10}}}))?a:"")+"\t\t</div>\n"},3:function(n,t,e,l,o){var a,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(a=r(e,"if").call(null!=t?t:n.nullContext||{},null!=t?r(t,"showPrivacyInfoLabel"):t,{name:"if",hash:{},fn:n.program(4,o,0),inverse:n.program(6,o,0),data:o,loc:{start:{line:6,column:4},end:{line:13,column:11}}}))?a:""},4:function(n,t,e,l,o){var a=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t\t<div class="label-container">\n\t\t\t\t\t\t<svg class="icon icon-info_hollow group-privacy-info-icon"><use xlink:href="#icon-info_hollow"></use></svg>\n\t\t\t\t\t\t<a href=\'#\' class=\'add-to\'>'+n.escapeExpression((a(e,"intlMessage")||t&&a(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.ADD_TO_GROUP"},data:o,loc:{start:{line:9,column:33},end:{line:9,column:91}}}))+"</a>\n\t\t\t\t\t</div>\n"},6:function(n,t,e,l,o){var a=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"\t\t\t\t\t<p><a href='#' class='add-to'>"+n.escapeExpression((a(e,"intlMessage")||t&&a(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.ADD_TO_GROUP"},data:o,loc:{start:{line:12,column:35},end:{line:12,column:93}}}))+"</a></p>\n"},8:function(n,t,e,l,o){var a=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"\t\t\t\t<p><a href='#' class='add-to'>"+n.escapeExpression((a(e,"intlMessage")||t&&a(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.INVITE_TO_GROUP"},data:o,loc:{start:{line:16,column:34},end:{line:16,column:95}}}))+"</a></p>\n"},10:function(n,t,e,l,o){var a,r=null!=t?t:n.nullContext||{},s=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return(null!=(a=s(e,"if").call(r,null!=t?s(t,"viewerIsOwner"):t,{name:"if",hash:{},fn:n.program(11,o,0),inverse:n.noop,data:o,loc:{start:{line:21,column:1},end:{line:32,column:8}}}))?a:"")+'\t<div class="sub-photo-context sub-photo-context-groups">\n'+(null!=(a=n.invokePartial(s(l,"sub-photo-contexts-title-groups"),t,{name:"sub-photo-contexts-title-groups",data:o,indent:"\t\t",helpers:e,partials:l,decorators:n.decorators}))?a:"")+(null!=(a=s(e,"if").call(r,null!=t?s(t,"canAdd"):t,{name:"if",hash:{},fn:n.program(17,o,0),inverse:n.noop,data:o,loc:{start:{line:35,column:2},end:{line:44,column:9}}}))?a:"")+(null!=(a=s(e,"if").call(r,null!=t?s(t,"canInvite"):t,{name:"if",hash:{},fn:n.program(22,o,0),inverse:n.noop,data:o,loc:{start:{line:45,column:2},end:{line:47,column:9}}}))?a:"")+'\t\t<ul class="context-list">\n'+(null!=(a=s(e,"each").call(r,null!=t?s(t,"contexts"):t,{name:"each",hash:{},fn:n.program(24,o,0),inverse:n.noop,data:o,loc:{start:{line:49,column:3},end:{line:51,column:12}}}))?a:"")+"\t\t</ul>\n"+(null!=(a=s(e,"if").call(r,null!=t?s(t,"showMore"):t,{name:"if",hash:{},fn:n.program(26,o,0),inverse:n.noop,data:o,loc:{start:{line:53,column:2},end:{line:55,column:9}}}))?a:"")+"\t</div>\n"},11:function(n,t,e,l,o){var a,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(a=(r(e,"ifCond")||t&&r(t,"ifCond")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},null!=t?r(t,"totalInvitations"):t,">",0,{name:"ifCond",hash:{},fn:n.program(12,o,0),inverse:n.noop,data:o,loc:{start:{line:22,column:2},end:{line:31,column:13}}}))?a:""},12:function(n,t,e,l,o){var a,r=null!=t?t:n.nullContext||{},s=n.hooks.helperMissing,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t<div class="invitation-notice" tabindex="0">\n'+(null!=(a=(i(e,"ifCond")||t&&i(t,"ifCond")||s).call(r,null!=t?i(t,"totalInvitations"):t,"===",1,{name:"ifCond",hash:{},fn:n.program(13,o,0),inverse:n.noop,data:o,loc:{start:{line:24,column:4},end:{line:26,column:15}}}))?a:"")+(null!=(a=(i(e,"ifCond")||t&&i(t,"ifCond")||s).call(r,null!=t?i(t,"totalInvitations"):t,">",1,{name:"ifCond",hash:{},fn:n.program(15,o,0),inverse:n.noop,data:o,loc:{start:{line:27,column:4},end:{line:29,column:15}}}))?a:"")+"\t\t\t</div>\n"},13:function(n,t,e,l,o){var a=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"\t\t\t\t\t"+n.escapeExpression((a(e,"intlMessage")||t&&a(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.ONE_GROUP_INVITATION"},data:o,loc:{start:{line:25,column:5},end:{line:25,column:71}}}))+"\n"},15:function(n,t,e,l,o){var a=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"\t\t\t\t\t"+n.escapeExpression((a(e,"intlMessage")||t&&a(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{count:null!=t?a(t,"totalInvitationsFriendly"):t,intlName:"photo-page-scrappy.N_GROUP_INVITATIONS"},data:o,loc:{start:{line:28,column:5},end:{line:28,column:101}}}))+"\n"},17:function(n,t,e,l,o){var a,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(a=r(e,"if").call(null!=t?t:n.nullContext||{},null!=t?r(t,"showPrivacyInfoLabel"):t,{name:"if",hash:{},fn:n.program(18,o,0),inverse:n.program(20,o,0),data:o,loc:{start:{line:36,column:3},end:{line:43,column:10}}}))?a:""},18:function(n,t,e,l,o){var a=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t<div class="label-container">\n\t\t\t\t\t<svg class="icon icon-info_hollow group-privacy-info-icon"><use xlink:href="#icon-info_hollow"></use></svg>\n\t\t\t\t\t<a href=\'#\' class=\'add-to\'>'+n.escapeExpression((a(e,"intlMessage")||t&&a(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.ADD_TO_GROUP"},data:o,loc:{start:{line:39,column:32},end:{line:39,column:90}}}))+"</a>\n\t\t\t\t</div>\n"},20:function(n,t,e,l,o){var a=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"\t\t\t\t<p><a href='#' class='add-to'>"+n.escapeExpression((a(e,"intlMessage")||t&&a(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.ADD_TO_GROUP"},data:o,loc:{start:{line:42,column:34},end:{line:42,column:92}}}))+"</a></p>\n"},22:function(n,t,e,l,o){var a=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"\t\t\t<a href='#' class='add-to'>"+n.escapeExpression((a(e,"intlMessage")||t&&a(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.INVITE_TO_GROUP"},data:o,loc:{start:{line:46,column:30},end:{line:46,column:91}}}))+"</a>\n"},24:function(n,t,e,l,o){var a,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(a=n.invokePartial(r(l,"sub-photo-contexts-item"),t,{name:"sub-photo-contexts-item",data:o,indent:"\t\t\t\t",helpers:e,partials:l,decorators:n.decorators}))?a:""},26:function(n,t,e,l,o){var a=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t<div class="view-all-contexts-of-type"><a href="#">'+n.escapeExpression((a(e,"intlMessage")||t&&a(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.VIEW_MORE_GROUPS"},data:o,loc:{start:{line:54,column:54},end:{line:54,column:116}}}))+"</a></div>\n"},compiler:[8,">= 4.3.0"],main:function(n,t,e,l,o){var a,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(a=r(e,"if").call(null!=t?t:n.nullContext||{},null!=t?r(t,"empty"):t,{name:"if",hash:{},fn:n.program(1,o,0),inverse:n.program(10,o,0),data:o,loc:{start:{line:1,column:0},end:{line:57,column:7}}}))?a:""},usePartial:!0,useData:!0}),l={};n.Array.each(["sub-photo-contexts-title-groups","sub-photo-contexts-item"],(function(t){var e=n.Template.get("hermes/"+t);e&&(l[t]=e)})),n.Template.register("hermes/sub-photo-contexts-groups",(function(t,o){return(o=o||{}).partials=o.partials?n.merge(l,o.partials):l,e(t,o)}))}),"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-sub-photo-contexts-title-groups","hermes-template-sub-photo-contexts-item"]});YUI.add("photo-group-invitation-models",(function(t){function e(t){e.superclass.constructor.call(this,t)}t.Models[this.name]=e,t.extend(e,t.FlickrModelRegistry,{name:this.name,remote:{},attributes:{id:{},photoId:{validator:function(e,r){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)||void 0}},groupId:{validator:function(e,r){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)||void 0}},invitedBy:{validator:function(e,r){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)||void 0}}}})}),"@VERSION@",{requires:["flickr-model-registry","flickr-promise","attribute-helpers"]});YUI.add("flickr-photos-getGroupInvitations-fetcher",(function(o,e){"use strict";o.namespace("ListFetchers")["flickr-photos-getGroupInvitations"]={run:function(i,t){var r=this;return o.Promise.all([t.callAPI("flickr.photos.getGroupInvitations",{photo_id:i.id,extras:o.APIHelper.request.getRebootGroupExtras()+", icon_urls",hermes:"1",include_pending:1}),t.getModelRegistry("photo-group-invitations-models"),t.getModelRegistry("photo-group-invitation-models"),t.getModelRegistry("group-pool-models"),t.getModelRegistry("group-models"),t.getModelRegistry("photo-group-pendings-models"),t.getModelRegistry("photo-group-pending-models")]).then((function(o){r._processResponse(o,i)}),o.FetcherErrorLogger(e))},_processResponse:function(e,i){var t,r,d=e[0],p=e[1],s=e[2],n=e[3],a=e[4],g=e[5],l=e[6],u=d.groups&&d.groups.group,h=i.id,c=[],v=[],m=[];u&&o.Array.each(u,(function(o,e){var t,r,d,p,g;t={id:[i.id,o.id].join("-"),photoId:i.id,groupId:o.id,invitedBy:o.invitedBy.nsid},r=s.addOrUpdate(t),d=a.parseGroupModel(i.id,i.pathAlias,o),p=a.addOrUpdate(d),g=n.addOrUpdate({id:o.id,pathAlias:o.pathAlias,group:p}),c.push(r),v.push(g)})),d&&d.pendingInvites&&o.Array.each(d.pendingInvites,(function(o,e){var t={id:[i.id,o.groupNsid].join("-"),photoId:i.id,groupId:o.groupNsid};m.push(l.addOrUpdate(t))})),r={id:h,pendings:m,total:m.length},g.addOrUpdate(r),t={id:h,groups:v,invitations:c,total:c.length},p.addOrUpdate(t)}}}),"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["photo-group-invitations-models","group-models","group-pool-models","person-models","photo-group-invitation-models"]});YUI.add("flickr-groups-invite-photo-accept-updater",(function(o,t){"use strict";o.namespace("ModelUpdaters")["flickr-groups-invite-photo-accept"]={run:function(e,r){var p,s,i,l={},u=o.Models["group-pool-models"].extractGroupFromCompoundId(e.groupID);return l.user_id=e.userID,l.photo_id=e.photoID,l.group_id=u,o.Promise.all([r.callAPI("flickr.groups.invite.photo.accept",l),r.getModelRegistry("photo-group-invitation-models"),r.getModelRegistry("photo-group-invitations-models"),r.getModel("photo-models",e.photoID),r.getModelRegistry("photo-groups-models"),r.getModelRegistry("photo-contexts-models")]).then((function(o){var t,l=o[0],a=o[1],g=o[2];if(p=o[3],s=o[4],i=o[5],"ok"===l.stat)return t=[e.photoID,u].join("-"),g.exists(e.photoID)&&g.getValue(e.photoID,"invitations").getFromListByID(t)&&(g.setValue(e.photoID,"total",g.getValue(e.photoID,"total")-1),g.getValue(e.photoID,"groups").removeFromList(u),g.getValue(e.photoID,"invitations").removeFromList(t)),a.remove(t),r.getModel("group-pool-models",u)})).then((function(o){return o.addPhotoLocal(p),s.exists(e.photoID)&&!s.getValue(e.photoID,"groups").getFromListByID(o.getValue("id"))&&(s.getValue(e.photoID,"groups").prependToList(o),s.setValue(e.photoID,"total",s.getValue(e.photoID,"total")+1)),i.exists(e.photoID)&&!i.getValue(e.photoID,"contexts").getFromListByID(o.getValue("id"))&&(i.setValue(e.photoID,"totalGroups",i.getValue(e.photoID,"totalGroups")+1),i.getValue(e.photoID,"contexts").appendToList(o)),o}),(function(o){if(o&&"flickr.groups.pools.getPhotos"===o.apiMethod&&2===o.code)return new Error("Group is private",{cause:o});throw o})).then(null,o.FetcherErrorLogger(t))}}}),"@VERSION@",{requires:["flickr-promise","group-pool-models"],optional:[]});